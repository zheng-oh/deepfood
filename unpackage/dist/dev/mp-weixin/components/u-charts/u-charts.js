"use strict";var sa={version:"v2.5.0-20230101",yAxisWidth:15,xAxisHeight:22,padding:[10,10,10,10],rotate:!1,fontSize:13,fontColor:"#666666",dataPointShape:["circle","circle","circle","circle"],color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],linearColor:["#0EE2F8","#2BDCA8","#FA7D8D","#EB88E2","#2AE3A0","#0EE2F8","#EB88E2","#6773E3","#F78A85"],pieChartLinePadding:15,pieChartTextPadding:5,titleFontSize:20,subtitleFontSize:15,radarLabelTextMargin:13},I=function(l,...a){if(l==null)throw new TypeError("[uCharts] Cannot convert undefined or null to object");if(!a||a.length<=0)return l;function r(e,t){for(let i in t)e[i]=e[i]&&e[i].toString()==="[object Object]"?r(e[i],t[i]):e[i]=t[i];return e}return a.forEach(e=>{l=r(l,e)}),l},la={toFixed:function(a,r){return r=r||2,this.isFloat(a)&&(a=a.toFixed(r)),a},isFloat:function(a){return a%1!==0},approximatelyEqual:function(a,r){return Math.abs(a-r)<1e-10},isSameSign:function(a,r){return Math.abs(a)===a&&Math.abs(r)===r||Math.abs(a)!==a&&Math.abs(r)!==r},isSameXCoordinateArea:function(a,r){return this.isSameSign(a.x,r.x)},isCollision:function(a,r){a.end={},a.end.x=a.start.x+a.width,a.end.y=a.start.y-a.height,r.end={},r.end.x=r.start.x+r.width,r.end.y=r.start.y-r.height;var e=r.start.x>a.end.x||r.end.x<a.start.x||r.end.y>a.start.y||r.start.y<a.end.y;return!e}};function D(l,a){var r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,e=l.replace(r,function(n,s,f,g){return s+s+f+f+g+g}),t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),i=parseInt(t[1],16),h=parseInt(t[2],16),d=parseInt(t[3],16);return"rgba("+i+","+h+","+d+","+a+")"}function ka(l,a,r){if(isNaN(l))throw new Error("[uCharts] series数据需为Number格式");r=r||10,a=a||"upper";for(var e=1;r<1;)r*=10,e*=10;for(a==="upper"?l=Math.ceil(l*e):l=Math.floor(l*e);l%r!==0;)if(a==="upper"){if(l==l+1)break;l++}else l--;return l/e}function Za(l,a,r,e){let t=[];for(let i=0;i<l.length;i++){let h={data:[],name:a[i],color:r[i]};for(let d=0,n=e.length;d<n;d++){if(d<l[i]){h.data.push(null);continue}let s=0;for(let f=0;f<l[i];f++)s+=e[d-f][1];h.data.push(+(s/l[i]).toFixed(3))}t.push(h)}return t}function Da(l,a,r,e,t){var i=t.width-t.area[1]-t.area[3],h=r.eachSpacing*(t.chartData.xAxisData.xAxisPoints.length-1);t.type=="mount"&&t.extra&&t.extra.mount&&t.extra.mount.widthRatio&&t.extra.mount.widthRatio>1&&(t.extra.mount.widthRatio>2&&(t.extra.mount.widthRatio=2),h+=(t.extra.mount.widthRatio-1)*r.eachSpacing);var d=a;return a>=0?(d=0,l.uevent.trigger("scrollLeft"),l.scrollOption.position="left",t.xAxis.scrollPosition="left"):Math.abs(a)>=h-i?(d=i-h,l.uevent.trigger("scrollRight"),l.scrollOption.position="right",t.xAxis.scrollPosition="right"):(l.scrollOption.position=a,t.xAxis.scrollPosition=a),d}function Xa(l,a,r){function e(t){for(;t<0;)t+=2*Math.PI;for(;t>2*Math.PI;)t-=2*Math.PI;return t}return l=e(l),a=e(a),r=e(r),a>r&&(r+=2*Math.PI,l<a&&(l+=2*Math.PI)),l>=a&&l<=r}function oa(l,a){function r(g,u){return g[u-1]&&g[u+1]?g[u].y>=Math.max(g[u-1].y,g[u+1].y)||g[u].y<=Math.min(g[u-1].y,g[u+1].y):!1}function e(g,u){return g[u-1]&&g[u+1]?g[u].x>=Math.max(g[u-1].x,g[u+1].x)||g[u].x<=Math.min(g[u-1].x,g[u+1].x):!1}var t=.2,i=.2,h=null,d=null,n=null,s=null;if(a<1?(h=l[0].x+(l[1].x-l[0].x)*t,d=l[0].y+(l[1].y-l[0].y)*t):(h=l[a].x+(l[a+1].x-l[a-1].x)*t,d=l[a].y+(l[a+1].y-l[a-1].y)*t),a>l.length-3){var f=l.length-1;n=l[f].x-(l[f].x-l[f-1].x)*i,s=l[f].y-(l[f].y-l[f-1].y)*i}else n=l[a+1].x-(l[a+2].x-l[a].x)*i,s=l[a+1].y-(l[a+2].y-l[a].y)*i;return r(l,a+1)&&(s=l[a+1].y),r(l,a)&&(d=l[a].y),e(l,a+1)&&(n=l[a+1].x),e(l,a)&&(h=l[a].x),(d>=Math.max(l[a].y,l[a+1].y)||d<=Math.min(l[a].y,l[a+1].y))&&(d=l[a].y),(s>=Math.max(l[a].y,l[a+1].y)||s<=Math.min(l[a].y,l[a+1].y))&&(s=l[a+1].y),(h>=Math.max(l[a].x,l[a+1].x)||h<=Math.min(l[a].x,l[a+1].x))&&(h=l[a].x),(n>=Math.max(l[a].x,l[a+1].x)||n<=Math.min(l[a].x,l[a+1].x))&&(n=l[a+1].x),{ctrA:{x:h,y:d},ctrB:{x:n,y:s}}}function ra(l,a,r){return{x:r.x+l,y:r.y-a}}function pa(l,a){if(a)for(;la.isCollision(l,a);)l.start.x>0?l.start.y--:l.start.x<0||l.start.y>0?l.start.y++:l.start.y--;return l}function Ka(l,a,r){let e=[];if(l.length>0&&l[0].data.constructor.toString().indexOf("Array")>-1){a._pieSeries_=l;let i=l[0].data;for(var t=0;t<i.length;t++)i[t].formatter=l[0].formatter,i[t].data=i[t].value,e.push(i[t]);a.series=e}else e=l;return e}function Sa(l,a,r){for(var e=0,t=0;t<l.length;t++){let i=l[t];if(i.color||(i.color=r.color[e],e=(e+1)%r.color.length),i.linearIndex||(i.linearIndex=t),i.index||(i.index=0),i.type||(i.type=a.type),typeof i.show>"u"&&(i.show=!0),i.type||(i.type=a.type),i.pointShape||(i.pointShape="circle"),!i.legendShape)switch(i.type){case"line":i.legendShape="line";break;case"column":case"bar":i.legendShape="rect";break;case"area":case"mount":i.legendShape="triangle";break;default:i.legendShape="circle"}}return l}function ta(l,a,r,e){var t=a||[];if(l=="custom"&&t.length==0&&(t=e.linearColor),l=="custom"&&t.length<r.length){let h=r.length-t.length;for(var i=0;i<h;i++)t.push(e.linearColor[(i+1)%e.linearColor.length])}return t}function Qa(l,a){var r=0,e=a-l;return e>=1e4?r=1e3:e>=1e3?r=100:e>=100?r=10:e>=10?r=5:e>=1?r=1:e>=.1?r=.1:e>=.01?r=.01:e>=.001?r=.001:e>=1e-4?r=1e-4:e>=1e-5?r=1e-5:r=1e-6,{minRange:ka(l,"lower",r),maxRange:ka(a,"upper",r)}}function H(l,a,r){var e=0;if(l=String(l),r!==!1&&r!==void 0&&r.setFontSize&&r.measureText)return r.setFontSize(a),r.measureText(l).width;var l=l.split("");for(let i=0;i<l.length;i++){let h=l[i];/[a-zA-Z]/.test(h)?e+=7:/[0-9]/.test(h)?e+=5.5:/\./.test(h)?e+=2.7:/-/.test(h)?e+=3.25:/:/.test(h)?e+=2.5:/[\u4e00-\u9fa5]/.test(h)?e+=10:/\(|\)/.test(h)?e+=3.73:/\s/.test(h)?e+=2.5:/%/.test(h)?e+=8:e+=10}return e*a/10}function ma(l){return l.reduce(function(a,r){return(a.data?a.data:a).concat(r.data)},[])}function Va(l,a){for(var r=new Array(a),e=0;e<r.length;e++)r[e]=0;for(var t=0;t<l.length;t++)for(var e=0;e<r.length;e++)r[e]+=l[t].data[e];return l.reduce(function(i,h){return(i.data?i.data:i).concat(h.data).concat(r)},[])}function da(l,a,r){let e,t;return l.clientX?a.rotate?(t=a.height-l.clientX*a.pix,e=(l.pageY-r.currentTarget.offsetTop-a.height/a.pix/2*(a.pix-1))*a.pix):(e=l.clientX*a.pix,t=(l.pageY-r.currentTarget.offsetTop-a.height/a.pix/2*(a.pix-1))*a.pix):a.rotate?(t=a.height-l.x*a.pix,e=l.y*a.pix):(e=l.x*a.pix,t=l.y*a.pix),{x:e,y:t}}function ya(l,a,r){var e=[],t=[],i=a.constructor.toString().indexOf("Array")>-1;if(i){let d=qa(l);for(var h=0;h<r.length;h++)t.push(d[r[h]])}else t=l;for(let d=0;d<t.length;d++){let n=t[d],s=-1;if(i?s=a[d]:s=a,n.data[s]!==null&&typeof n.data[s]<"u"&&n.show){let f={};f.color=n.color,f.type=n.type,f.style=n.style,f.pointShape=n.pointShape,f.disableLegend=n.disableLegend,f.legendShape=n.legendShape,f.name=n.name,f.show=n.show,f.data=n.formatter?n.formatter(n.data[s]):n.data[s],e.push(f)}}return e}function Ua(l,a,r){var e=l.map(function(t){return H(t,a,r)});return Math.max.apply(null,e)}function ae(l){for(var a=2*Math.PI/l,r=[],e=0;e<l;e++)r.push(a*e);return r.map(function(t){return-1*t+Math.PI/2})}function Ia(l,a,r,e,t){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},h=a.chartData.calPoints?a.chartData.calPoints:[];let d={};if(e.length>0){let f=[];for(let g=0;g<e.length;g++)f.push(h[e[g]]);d=f[0][r[0]]}else for(let f=0;f<h.length;f++)if(h[f][r]){d=h[f][r];break}var n=l.map(function(f){let g=null;return a.categories&&a.categories.length>0&&(g=t[r]),{text:i.formatter?i.formatter(f,g,r,a):f.name+": "+f.data,color:f.color,legendShape:a.extra.tooltip.legendShape=="auto"?f.legendShape:a.extra.tooltip.legendShape}}),s={x:Math.round(d.x),y:Math.round(d.y)};return{textList:n,offset:s}}function ee(l,a,r,e){var t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},i=a.chartData.xAxisPoints[r]+a.chartData.eachSpacing/2,h=l.map(function(n){return{text:t.formatter?t.formatter(n,e[r],r,a):n.name+": "+n.data,color:n.color,disableLegend:!!n.disableLegend,legendShape:a.extra.tooltip.legendShape=="auto"?n.legendShape:a.extra.tooltip.legendShape}});h=h.filter(function(n){if(n.disableLegend!==!0)return n});var d={x:Math.round(i),y:0};return{textList:h,offset:d}}function ie(l,a,r,e,t,i){var h=r.chartData.calPoints;let d=i.color.upFill,n=i.color.downFill,s=[d,d,n,d];var f=[];a.map(function(o){e==0?o.data[1]-o.data[0]<0?s[1]=n:s[1]=d:(o.data[0]<l[e-1][1]&&(s[0]=n),o.data[1]<o.data[0]&&(s[1]=n),o.data[2]>l[e-1][1]&&(s[2]=d),o.data[3]<l[e-1][1]&&(s[3]=n));let y={text:"开盘："+o.data[0],color:s[0],legendShape:r.extra.tooltip.legendShape=="auto"?o.legendShape:r.extra.tooltip.legendShape},x={text:"收盘："+o.data[1],color:s[1],legendShape:r.extra.tooltip.legendShape=="auto"?o.legendShape:r.extra.tooltip.legendShape},c={text:"最低："+o.data[2],color:s[2],legendShape:r.extra.tooltip.legendShape=="auto"?o.legendShape:r.extra.tooltip.legendShape},m={text:"最高："+o.data[3],color:s[3],legendShape:r.extra.tooltip.legendShape=="auto"?o.legendShape:r.extra.tooltip.legendShape};f.push(y,x,c,m)});var g=[],u={x:0,y:0};for(let o=0;o<h.length;o++){let y=h[o];typeof y[e]<"u"&&y[e]!==null&&g.push(y[e])}return u.x=Math.round(g[0][0].x),{textList:f,offset:u}}function qa(l){let a=[];for(let r=0;r<l.length;r++)l[r].show==!0&&a.push(l[r]);return a}function re(l,a,r,e){var t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,i={index:-1,group:[]},h=r.chartData.eachSpacing/2;let d=[];if(a&&a.length>0){if(!r.categories)h=0;else{for(let n=1;n<r.chartData.xAxisPoints.length;n++)d.push(r.chartData.xAxisPoints[n]-h);(r.type=="line"||r.type=="area")&&r.xAxis.boundaryGap=="justify"&&(d=r.chartData.xAxisPoints)}if($a(l,r))if(r.categories)d.forEach(function(n,s){l.x+t+h>n&&(i.index=s)});else{let n=Array(a.length);for(let u=0;u<a.length;u++){n[u]=Array(a[u].length);for(let o=0;o<a[u].length;o++)n[u][o]=Math.abs(a[u][o].x-l.x)}let s=Array(n.length),f=Array(n.length);for(let u=0;u<n.length;u++)s[u]=Math.min.apply(null,n[u]),f[u]=n[u].indexOf(s[u]);let g=Math.min.apply(null,s);i.index=[];for(let u=0;u<s.length;u++)s[u]==g&&(i.group.push(u),i.index.push(f[u]))}}return i}function le(l,a,r,e){var t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,i={index:-1,group:[]},h=r.chartData.eachSpacing/2;let d=r.chartData.yAxisPoints;return a&&a.length>0&&$a(l,r)&&d.forEach(function(n,s){l.y+t+h>n&&(i.index=s)}),i}function te(l,a,r){let e=-1,t=0;if(ne(l,a.area)){let i=a.points,h=-1;for(let d=0,n=i.length;d<n;d++){let s=i[d];for(let f=0;f<s.length;f++){h+=1;let g=s[f].area;if(g&&l.x>g[0]-t&&l.x<g[2]+t&&l.y>g[1]-t&&l.y<g[3]+t){e=h;break}}}return e}return e}function ne(l,a){return l.x>a.start.x&&l.x<a.end.x&&l.y>a.start.y&&l.y<a.end.y}function $a(l,a,r){return l.x<=a.width-a.area[1]+10&&l.x>=a.area[3]-10&&l.y>=a.area[0]&&l.y<=a.height-a.area[2]}function he(l,a,r){var e=2*Math.PI/r,t=-1;if(Ma(l,a.center,a.radius)){var i=function(s){return s<0&&(s+=2*Math.PI),s>2*Math.PI&&(s-=2*Math.PI),s},h=Math.atan2(a.center.y-l.y,l.x-a.center.x);h=-1*h,h<0&&(h+=2*Math.PI);var d=a.angleList.map(function(n){return n=i(-1*n),n});d.forEach(function(n,s){var f=i(n-e/2),g=i(n+e/2);g<f&&(g+=2*Math.PI),(h>=f&&h<=g||h+2*Math.PI>=f&&h+2*Math.PI<=g)&&(t=s)})}return t}function de(l,a){for(var r=-1,e=0,t=a.series.length;e<t;e++){var i=a.series[e];if(l.x>i.funnelArea[0]&&l.x<i.funnelArea[2]&&l.y>i.funnelArea[1]&&l.y<i.funnelArea[3]){r=e;break}}return r}function fe(l,a){for(var r=-1,e=0,t=a.length;e<t;e++){var i=a[e];if(l.x>i.area[0]&&l.x<i.area[2]&&l.y>i.area[1]&&l.y<i.area[3]){r=e;break}}return r}function ue(l,a){for(var r=-1,e=a.chartData.mapData,t=a.series,i=Qe(l.y,l.x,e.bounds,e.scale,e.xoffset,e.yoffset),h=[i.x,i.y],d=0,n=t.length;d<n;d++){var s=t[d].geometry.coordinates;if(ai(h,s,a.chartData.mapData.mercator)){r=d;break}}return r}function oe(l,a,r){var e=-1,t=Ya(r._series_,r.extra.rose.type,a.radius,a.radius);if(a&&a.center&&Ma(l,a.center,a.radius)){var i=Math.atan2(a.center.y-l.y,l.x-a.center.x);i=-i,r.extra.rose&&r.extra.rose.offsetAngle&&(i=i-r.extra.rose.offsetAngle*Math.PI/180);for(var h=0,d=t.length;h<d;h++)if(Xa(i,t[h]._start_,t[h]._start_+t[h]._rose_proportion_*2*Math.PI)){e=h;break}}return e}function ge(l,a,r){var e=-1,t=Fa(a.series);if(a&&a.center&&Ma(l,a.center,a.radius)){var i=Math.atan2(a.center.y-l.y,l.x-a.center.x);i=-i,r.extra.pie&&r.extra.pie.offsetAngle&&(i=i-r.extra.pie.offsetAngle*Math.PI/180),r.extra.ring&&r.extra.ring.offsetAngle&&(i=i-r.extra.ring.offsetAngle*Math.PI/180);for(var h=0,d=t.length;h<d;h++)if(Xa(i,t[h]._start_,t[h]._start_+t[h]._proportion_*2*Math.PI)){e=h;break}}return e}function Ma(l,a,r){return Math.pow(l.x-a.x,2)+Math.pow(l.y-a.y,2)<=Math.pow(r,2)}function ga(l,a){var r=[],e=[];return l.forEach(function(t,i){a.connectNulls?t!==null&&e.push(t):t!==null?e.push(t):(e.length&&r.push(e),e=[])}),e.length&&r.push(e),r}function se(l,a,r,e,t){let i={area:{start:{x:0,y:0},end:{x:0,y:0},width:0,height:0,wholeWidth:0,wholeHeight:0},points:[],widthArr:[],heightArr:[]};if(a.legend.show===!1)return e.legendData=i,i;let h=a.legend.padding*a.pix,d=a.legend.margin*a.pix,n=a.legend.fontSize?a.legend.fontSize*a.pix:r.fontSize,s=15*a.pix,f=5*a.pix,g=Math.max(a.legend.lineHeight*a.pix,n);if(a.legend.position=="top"||a.legend.position=="bottom"){let u=[],o=0,y=[],x=[];for(let c=0;c<l.length;c++){let m=l[c];const v=m.legendText?m.legendText:m.name;let b=s+f+H(v||"undefined",n,t)+a.legend.itemGap*a.pix;o+b>a.width-a.area[1]-a.area[3]?(u.push(x),y.push(o-a.legend.itemGap*a.pix),o=b,x=[m]):(o+=b,x.push(m))}if(x.length){u.push(x),y.push(o-a.legend.itemGap*a.pix),i.widthArr=y;let c=Math.max.apply(null,y);switch(a.legend.float){case"left":i.area.start.x=a.area[3],i.area.end.x=a.area[3]+c+2*h;break;case"right":i.area.start.x=a.width-a.area[1]-c-2*h,i.area.end.x=a.width-a.area[1];break;default:i.area.start.x=(a.width-c)/2-h,i.area.end.x=(a.width+c)/2+h}i.area.width=c+2*h,i.area.wholeWidth=c+2*h,i.area.height=u.length*g+2*h,i.area.wholeHeight=u.length*g+2*h+2*d,i.points=u}}else{let u=l.length,o=a.height-a.area[0]-a.area[2]-2*d-2*h,y=Math.min(Math.floor(o/g),u);switch(i.area.height=y*g+h*2,i.area.wholeHeight=y*g+h*2,a.legend.float){case"top":i.area.start.y=a.area[0]+d,i.area.end.y=a.area[0]+d+i.area.height;break;case"bottom":i.area.start.y=a.height-a.area[2]-d-i.area.height,i.area.end.y=a.height-a.area[2]-d;break;default:i.area.start.y=(a.height-i.area.height)/2,i.area.end.y=(a.height+i.area.height)/2}let x=u%y===0?u/y:Math.floor(u/y+1),c=[];for(let m=0;m<x;m++){let v=l.slice(m*y,m*y+y);c.push(v)}if(i.points=c,c.length){for(let v=0;v<c.length;v++){let b=c[v],P=0;for(let C=0;C<b.length;C++){let S=s+f+H(b[C].name||"undefined",n,t)+a.legend.itemGap*a.pix;S>P&&(P=S)}i.widthArr.push(P),i.heightArr.push(b.length*g+h*2)}let m=0;for(let v=0;v<i.widthArr.length;v++)m+=i.widthArr[v];i.area.width=m-a.legend.itemGap*a.pix+2*h,i.area.wholeWidth=i.area.width+h}}switch(a.legend.position){case"top":i.area.start.y=a.area[0]+d,i.area.end.y=a.area[0]+d+i.area.height;break;case"bottom":i.area.start.y=a.height-a.area[2]-i.area.height-d,i.area.end.y=a.height-a.area[2]-d;break;case"left":i.area.start.x=a.area[3],i.area.end.x=a.area[3]+i.area.width;break;case"right":i.area.start.x=a.width-a.area[1]-i.area.width,i.area.end.x=a.width-a.area[1];break}return e.legendData=i,i}function za(l,a,r,e,t){var i={angle:0,xAxisHeight:a.xAxis.lineHeight*a.pix+a.xAxis.marginTop*a.pix},h=a.xAxis.fontSize*a.pix,d=l.map(function(s,f){var g=a.xAxis.formatter?a.xAxis.formatter(s,f,a):s;return H(String(g),h,t)}),n=Math.max.apply(this,d);if(a.xAxis.rotateLabel==!0){i.angle=a.xAxis.rotateAngle*Math.PI/180;let s=a.xAxis.marginTop*a.pix*2+Math.abs(n*Math.sin(i.angle));s=s<h+a.xAxis.marginTop*a.pix*2?s+a.xAxis.marginTop*a.pix*2:s,i.xAxisHeight=s}return a.enableScroll&&a.xAxis.scrollShow&&(i.xAxisHeight+=6*a.pix),a.xAxis.disabled&&(i.xAxisHeight=0),i}function ye(l,a,r,e){var t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1,i;e=="stack"?i=Va(l,a.categories.length):i=ma(l);var h=[];i=i.filter(function(x){return typeof x=="object"&&x!==null?x.constructor.toString().indexOf("Array")>-1?x!==null:x.value!==null:x!==null}),i.map(function(x){typeof x=="object"?x.constructor.toString().indexOf("Array")>-1?a.type=="candle"?x.map(function(c){h.push(c)}):h.push(x[0]):h.push(x.value):h.push(x)});var d=0,n=0;if(h.length>0&&(d=Math.min.apply(this,h),n=Math.max.apply(this,h)),t>-1?(typeof a.xAxis.data[t].min=="number"&&(d=Math.min(a.xAxis.data[t].min,d)),typeof a.xAxis.data[t].max=="number"&&(n=Math.max(a.xAxis.data[t].max,n))):(typeof a.xAxis.min=="number"&&(d=Math.min(a.xAxis.min,d)),typeof a.xAxis.max=="number"&&(n=Math.max(a.xAxis.max,n))),d===n){var s=n||10;n+=s}for(var f=d,g=n,u=[],o=(g-f)/a.xAxis.splitNumber,y=0;y<=a.xAxis.splitNumber;y++)u.push(f+o*y);return u}function ve(l,a,r,e){var t=I({},{type:""},a.extra.bar),i={angle:0,xAxisHeight:a.xAxis.lineHeight*a.pix+a.xAxis.marginTop*a.pix};i.ranges=ye(l,a,r,t.type),i.rangesFormat=i.ranges.map(function(d){return d=la.toFixed(d,2),d});var h=i.ranges.map(function(d){return d=la.toFixed(d,2),d});return i=Object.assign(i,xa(h,a)),i.eachSpacing,h.map(function(d){return H(d,a.xAxis.fontSize*a.pix,e)}),a.xAxis.disabled===!0&&(i.xAxisHeight=0),i}function xe(l,a,r,e,t){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1,h=t.extra.radar||{};h.max=h.max||0;var d=Math.max(h.max,Math.max.apply(null,ma(e))),n=[];for(let s=0;s<e.length;s++){let f=e[s],g={};g.color=f.color,g.legendShape=f.legendShape,g.pointShape=f.pointShape,g.data=[],f.data.forEach(function(u,o){let y={};y.angle=l[o],y.proportion=u/d,y.value=u,y.position=ra(r*y.proportion*i*Math.cos(y.angle),r*y.proportion*i*Math.sin(y.angle),a),g.data.push(y)}),n.push(g)}return n}function Fa(l,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,e=0,t=0;for(let i=0;i<l.length;i++){let h=l[i];h.data=h.data===null?0:h.data,e+=h.data}for(let i=0;i<l.length;i++){let h=l[i];h.data=h.data===null?0:h.data,e===0?h._proportion_=1/l.length*r:h._proportion_=h.data/e*r,h._radius_=a}for(let i=0;i<l.length;i++){let h=l[i];h._start_=t,t+=2*h._proportion_*Math.PI}return l}function ce(l,a,r,e){var t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;for(let i=0;i<l.length;i++)r.type=="funnel"?l[i].radius=l[i].data/l[0].data*a*t:l[i].radius=e*(l.length-i)/(e*l.length)*a*t,l[i]._proportion_=l[i].data/l[0].data;return l}function Ya(l,a,r,e){var t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,i=0,h=0,d=[];for(let g=0;g<l.length;g++){let u=l[g];u.data=u.data===null?0:u.data,i+=u.data,d.push(u.data)}var n=Math.min.apply(null,d),s=Math.max.apply(null,d),f=e-r;for(let g=0;g<l.length;g++){let u=l[g];u.data=u.data===null?0:u.data,i===0?(u._proportion_=1/l.length*t,u._rose_proportion_=1/l.length*t):(u._proportion_=u.data/i*t,a=="area"?u._rose_proportion_=1/l.length*t:u._rose_proportion_=u.data/i*t),u._radius_=r+f*((u.data-n)/(s-n))||e}for(let g=0;g<l.length;g++){let u=l[g];u._start_=h,h+=2*u._rose_proportion_*Math.PI}return l}function me(l,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;r==1&&(r=.999999);for(let e=0;e<l.length;e++){let t=l[e];t.data=t.data===null?0:t.data;let i;a.type=="circle"?i=2:a.direction=="ccw"?a.startAngle<a.endAngle?i=2+a.startAngle-a.endAngle:i=a.startAngle-a.endAngle:a.endAngle<a.startAngle?i=2+a.endAngle-a.startAngle:i=a.startAngle-a.endAngle,t._proportion_=i*t.data*r+a.startAngle,a.direction=="ccw"&&(t._proportion_=a.startAngle-i*t.data*r),t._proportion_>=2&&(t._proportion_=t._proportion_%2)}return l}function be(l,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;r==1&&(r=.999999);for(let e=0;e<l.length;e++){let t=l[e];t.data=t.data===null?0:t.data;let i;a.type=="circle"?i=2:a.endAngle<a.startAngle?i=2+a.endAngle-a.startAngle:i=a.startAngle-a.endAngle,t._proportion_=i*t.data*r+a.startAngle,t._proportion_>=2&&(t._proportion_=t._proportion_%2)}return l}function Ae(l,a,r){let e;r<a?e=2+r-a:e=a-r;let t=a;for(let i=0;i<l.length;i++)l[i].value=l[i].value===null?0:l[i].value,l[i]._startAngle_=t,l[i]._endAngle_=e*l[i].value+a,l[i]._endAngle_>=2&&(l[i]._endAngle_=l[i]._endAngle_%2),t=l[i]._endAngle_;return l}function Se(l,a,r){let e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;for(let t=0;t<l.length;t++){let i=l[t];if(i.data=i.data===null?0:i.data,r.pointer.color=="auto"){for(let d=0;d<a.length;d++)if(i.data<=a[d].value){i.color=a[d].color;break}}else i.color=r.pointer.color;let h;r.endAngle<r.startAngle?h=2+r.endAngle-r.startAngle:h=r.startAngle-r.endAngle,i._endAngle_=h*i.data+r.startAngle,i._oldAngle_=r.oldAngle,r.oldAngle<r.endAngle&&(i._oldAngle_+=2),i.data>=r.oldData?i._proportion_=(i._endAngle_-i._oldAngle_)*e+r.oldAngle:i._proportion_=i._oldAngle_-(i._oldAngle_-i._endAngle_)*e,i._proportion_>=2&&(i._proportion_=i._proportion_%2)}return l}function Te(l,a,r,e){l=Fa(l);let t=0;for(let i=0;i<l.length;i++){let h=l[i],d=h.formatter?h.formatter(+h._proportion_.toFixed(2)):la.toFixed(h._proportion_*100)+"%";t=Math.max(t,H(d,h.textSize*e.pix||a.fontSize,r))}return t}function ca(l,a,r,e,t,i){return l.map(function(h){if(h===null)return null;var d=0,n=0;return i.type=="mix"?(d=i.extra.mix.column.seriesGap*i.pix||0,n=i.extra.mix.column.categoryGap*i.pix||0):(d=i.extra.column.seriesGap*i.pix||0,n=i.extra.column.categoryGap*i.pix||0),d=Math.min(d,a/r),n=Math.min(n,a/r),h.width=Math.ceil((a-2*n-d*(r-1))/r),i.extra.mix&&i.extra.mix.column.width&&+i.extra.mix.column.width>0&&(h.width=Math.min(h.width,+i.extra.mix.column.width*i.pix)),i.extra.column&&i.extra.column.width&&+i.extra.column.width>0&&(h.width=Math.min(h.width,+i.extra.column.width*i.pix)),h.width<=0&&(h.width=1),h.x+=(e+.5-r/2)*(h.width+d),h})}function Ra(l,a,r,e,t,i){return l.map(function(h){if(h===null)return null;var d=0,n=0;return d=i.extra.bar.seriesGap*i.pix||0,n=i.extra.bar.categoryGap*i.pix||0,d=Math.min(d,a/r),n=Math.min(n,a/r),h.width=Math.ceil((a-2*n-d*(r-1))/r),i.extra.bar&&i.extra.bar.width&&+i.extra.bar.width>0&&(h.width=Math.min(h.width,+i.extra.bar.width*i.pix)),h.width<=0&&(h.width=1),h.y+=(e+.5-r/2)*(h.width+d),h})}function Pe(l,a,r,e,t,i,h){var d=i.extra.column.categoryGap*i.pix||0;return l.map(function(n){return n===null?null:(n.width=a-2*d,i.extra.column&&i.extra.column.width&&+i.extra.column.width>0&&(n.width=Math.min(n.width,+i.extra.column.width*i.pix)),e>0&&(n.width-=h),n)})}function we(l,a,r,e,t,i,h){var d=i.extra.column.categoryGap*i.pix||0;return l.map(function(n,s){return n===null?null:(n.width=Math.ceil(a-2*d),i.extra.column&&i.extra.column.width&&+i.extra.column.width>0&&(n.width=Math.min(n.width,+i.extra.column.width*i.pix)),n.width<=0&&(n.width=1),n)})}function Ce(l,a,r,e,t,i,h){var d=i.extra.bar.categoryGap*i.pix||0;return l.map(function(n,s){return n===null?null:(n.width=Math.ceil(a-2*d),i.extra.bar&&i.extra.bar.width&&+i.extra.bar.width>0&&(n.width=Math.min(n.width,+i.extra.bar.width*i.pix)),n.width<=0&&(n.width=1),n)})}function xa(l,a,r){var e=a.width-a.area[1]-a.area[3],t=a.enableScroll?Math.min(a.xAxis.itemCount,l.length):l.length;(a.type=="line"||a.type=="area"||a.type=="scatter"||a.type=="bubble"||a.type=="bar")&&t>1&&a.xAxis.boundaryGap=="justify"&&(t-=1);var i=0;a.type=="mount"&&a.extra&&a.extra.mount&&a.extra.mount.widthRatio&&a.extra.mount.widthRatio>1&&(a.extra.mount.widthRatio>2&&(a.extra.mount.widthRatio=2),i=a.extra.mount.widthRatio-1,t+=i);var h=e/t,d=[],n=a.area[3],s=a.width-a.area[1];return l.forEach(function(f,g){d.push(n+i/2*h+g*h)}),a.xAxis.boundaryGap!=="justify"&&(a.enableScroll===!0?d.push(n+i*h+l.length*h):d.push(s)),{xAxisPoints:d,startX:n,endX:s,eachSpacing:h}}function De(l,a,r,e,t,i,h){var d=arguments.length>7&&arguments[7]!==void 0?arguments[7]:1,n=[],s=i.height-i.area[0]-i.area[2];return l.forEach(function(f,g){if(f===null)n.push(null);else{var u=[];f.forEach(function(o,y){var x={};x.x=e[g]+Math.round(t/2);var c=o.value||o,m=s*(c-a)/(r-a);m*=d,x.y=i.height-Math.round(m)-i.area[2],u.push(x)}),n.push(u)}}),n}function Q(l,a,r,e,t,i,h){var d=arguments.length>7&&arguments[7]!==void 0?arguments[7]:1,n="center";(i.type=="line"||i.type=="area"||i.type=="scatter"||i.type=="bubble")&&(n=i.xAxis.boundaryGap);var s=[],f=i.height-i.area[0]-i.area[2],g=i.width-i.area[1]-i.area[3];return l.forEach(function(u,o){if(u===null)s.push(null);else{var y={};y.color=u.color,y.x=e[o];var x=u;if(typeof u=="object"&&u!==null)if(u.constructor.toString().indexOf("Array")>-1){let m,v,b;m=[].concat(i.chartData.xAxisData.ranges),v=m.shift(),b=m.pop(),x=u[1],y.x=i.area[3]+g*(u[0]-v)/(b-v),i.type=="bubble"&&(y.r=u[2],y.t=u[3])}else x=u.value;n=="center"&&(y.x+=t/2);var c=f*(x-a)/(r-a);c*=d,y.y=i.height-c-i.area[2],s.push(y)}}),s}function Me(l,a,r,e,t,i,h,d,s){var s=arguments.length>8&&arguments[8]!==void 0?arguments[8]:1,f=i.xAxis.boundaryGap,g=[],u=i.height-i.area[0]-i.area[2],o=i.width-i.area[1]-i.area[3];return l.forEach(function(y,x){if(y===null)g.push(null);else{var c={};if(c.color=y.color,d.animation=="vertical"){c.x=e[x];var m=y;if(typeof y=="object"&&y!==null)if(y.constructor.toString().indexOf("Array")>-1){let b,P,C;b=[].concat(i.chartData.xAxisData.ranges),P=b.shift(),C=b.pop(),m=y[1],c.x=i.area[3]+o*(y[0]-P)/(C-P)}else m=y.value;f=="center"&&(c.x+=t/2);var v=u*(m-a)/(r-a);v*=s,c.y=i.height-v-i.area[2],g.push(c)}else{c.x=e[0]+t*x*s;var m=y;f=="center"&&(c.x+=t/2);var v=u*(m-a)/(r-a);c.y=i.height-v-i.area[2],g.push(c)}}}),g}function Wa(l,a,r,e,t,i,h,d,s){var s=arguments.length>8&&arguments[8]!==void 0?arguments[8]:1,f=[],g=i.height-i.area[0]-i.area[2],u=i.width-i.area[1]-i.area[3];return l.forEach(function(o,y){if(o===null)f.push(null);else{var x={};x.color=o.color,x.x=e[y];var c=o;if(typeof o=="object"&&o!==null)if(o.constructor.toString().indexOf("Array")>-1){let v,b,P;v=[].concat(i.chartData.xAxisData.ranges),b=v.shift(),P=v.pop(),c=o[1],x.x=i.area[3]+u*(o[0]-b)/(P-b)}else c=o.value;x.x+=t/2;var m=g*(c*s-a)/(r-a);x.y=i.height-m-i.area[2],f.push(x)}}),f}function Oa(l,a,r,e,t,i,h,d){var n=arguments.length>8&&arguments[8]!==void 0?arguments[8]:1,s=[],f=i.height-i.area[0]-i.area[2];i.width-i.area[1]-i.area[3];var g=t*h.widthRatio;return l.forEach(function(u,o){if(u===null)s.push(null);else{var y={};y.color=u.color,y.x=e[o],y.x+=t/2;var x=u.data,c=f*(x*n-a)/(r-a);y.y=i.height-c-i.area[2],y.value=x,y.width=g,s.push(y)}}),s}function Ea(l,a,r,e,t,i,h){var d=arguments.length>7&&arguments[7]!==void 0?arguments[7]:1,n=[];i.height-i.area[0]-i.area[2];var s=i.width-i.area[1]-i.area[3];return l.forEach(function(f,g){if(f===null)n.push(null);else{var u={};u.color=f.color,u.y=e[g];var o=f;typeof f=="object"&&f!==null&&(o=f.value);var y=s*(o-a)/(r-a);y*=d,u.height=y,u.value=o,u.x=y+i.area[3],n.push(u)}}),n}function Ta(l,a,r,e,t,i,h,d,n){var s=arguments.length>9&&arguments[9]!==void 0?arguments[9]:1,f=[],g=i.height-i.area[0]-i.area[2];return l.forEach(function(u,o){if(u===null)f.push(null);else{var y={};if(y.color=u.color,y.x=e[o]+Math.round(t/2),d>0){var x=0;for(let P=0;P<=d;P++)x+=n[P].data[o];var c=x-u,m=g*(x-a)/(r-a),v=g*(c-a)/(r-a)}else{var x=u;typeof u=="object"&&u!==null&&(x=u.value);var m=g*(x-a)/(r-a),v=0}var b=v;m*=s,b*=s,y.y=i.height-Math.round(m)-i.area[2],y.y0=i.height-Math.round(b)-i.area[2],f.push(y)}}),f}function Pa(l,a,r,e,t,i,h,d,n){var s=arguments.length>9&&arguments[9]!==void 0?arguments[9]:1,f=[],g=i.width-i.area[1]-i.area[3];return l.forEach(function(u,o){if(u===null)f.push(null);else{var y={};if(y.color=u.color,y.y=e[o],d>0){var x=0;for(let P=0;P<=d;P++)x+=n[P].data[o];var c=x-u,m=g*(x-a)/(r-a),v=g*(c-a)/(r-a)}else{var x=u;typeof u=="object"&&u!==null&&(x=u.value);var m=g*(x-a)/(r-a),v=0}var b=v;m*=s,b*=s,y.height=m-b,y.x=i.area[3]+m,y.x0=i.area[3]+b,f.push(y)}}),f}function Ba(l,a,r,e,t){var i;e=="stack"?i=Va(l,a.categories.length):i=ma(l);var h=[];i=i.filter(function(x){return typeof x=="object"&&x!==null?x.constructor.toString().indexOf("Array")>-1?x!==null:x.value!==null:x!==null}),i.map(function(x){typeof x=="object"?x.constructor.toString().indexOf("Array")>-1?a.type=="candle"?x.map(function(c){h.push(c)}):h.push(x[1]):h.push(x.value):h.push(x)});var d=t.min||0,n=t.max||0;h.length>0&&(d=Math.min.apply(this,h),n=Math.max.apply(this,h)),d===n&&(n==0?n=10:d=0);for(var s=Qa(d,n),f=t.min===void 0||t.min===null?s.minRange:t.min,g=t.max===void 0||t.max===null?s.maxRange:t.max,u=(g-f)/a.yAxis.splitNumber,o=[],y=0;y<=a.yAxis.splitNumber;y++)o.push(f+u*y);return o.reverse()}function La(l,a,r,e){var t=I({},{type:""},a.extra.column),i=a.yAxis.data.length,h=new Array(i);if(i>0){for(let g=0;g<i;g++){h[g]=[];for(let u=0;u<l.length;u++)l[u].index==g&&h[g].push(l[u])}var d=new Array(i),n=new Array(i),s=new Array(i);for(let g=0;g<i;g++){let u=a.yAxis.data[g];a.yAxis.disabled==!0&&(u.disabled=!0),u.type==="categories"?(u.formatter||(u.formatter=(x,c,m)=>x+(u.unit||"")),u.categories=u.categories||a.categories,d[g]=u.categories):(u.formatter||(u.formatter=(x,c,m)=>la.toFixed(x,u.tofix||0)+(u.unit||"")),d[g]=Ba(h[g],a,r,t.type,u));let o=u.fontSize*a.pix||r.fontSize;s[g]={position:u.position?u.position:"left",width:0},n[g]=d[g].map(function(x,c){return x=u.formatter(x,c,a),s[g].width=Math.max(s[g].width,H(x,o,e)+5),x});let y=u.calibration?4*a.pix:0;s[g].width+=y+3*a.pix,u.disabled===!0&&(s[g].width=0)}}else{var d=new Array(1),n=new Array(1),s=new Array(1);a.type==="bar"?(d[0]=a.categories,a.yAxis.formatter||(a.yAxis.formatter=(y,x,c)=>y+(c.yAxis.unit||""))):(a.yAxis.formatter||(a.yAxis.formatter=(y,x,c)=>y.toFixed(c.yAxis.tofix)+(c.yAxis.unit||"")),d[0]=Ba(l,a,r,t.type,{})),s[0]={position:"left",width:0};var f=a.yAxis.fontSize*a.pix||r.fontSize;n[0]=d[0].map(function(y,x){return y=a.yAxis.formatter(y,x,a),s[0].width=Math.max(s[0].width,H(y,f,e)+5),y}),s[0].width+=3*a.pix,a.yAxis.disabled===!0?(s[0]={position:"left",width:0},a.yAxis.data[0]={disabled:!0}):(a.yAxis.data[0]={disabled:!1,position:"left",max:a.yAxis.max,min:a.yAxis.min,formatter:a.yAxis.formatter},a.type==="bar"&&(a.yAxis.data[0].categories=a.categories,a.yAxis.data[0].type="categories"))}return{rangesFormat:n,ranges:d,yAxisWidth:s}}function Fe(l,a,r,e,t){let i=[].concat(r.chartData.yAxisData.ranges),h=r.height-r.area[0]-r.area[2],d=r.area[0],n=[];for(let s=0;s<i.length;s++){let f=Math.max.apply(this,i[s]),g=Math.min.apply(this,i[s]),u=f-(f-g)*(l-d)/h;u=r.yAxis.data&&r.yAxis.data[s].formatter?r.yAxis.data[s].formatter(u,s,r):u.toFixed(0),n.push(String(u))}return n}function Le(l,a){let r,e,t=a.height-a.area[0]-a.area[2];for(let i=0;i<l.length;i++){l[i].yAxisIndex=l[i].yAxisIndex?l[i].yAxisIndex:0;let h=[].concat(a.chartData.yAxisData.ranges[l[i].yAxisIndex]);r=h.pop(),e=h.shift();let d=t*(l[i].value-r)/(e-r);l[i].y=a.height-Math.round(d)-a.area[2]}return l}function Y(l,a){a.rotateLock!==!0?(l.translate(a.height,0),l.rotate(90*Math.PI/180)):a._rotate_!==!0&&(l.translate(a.height,0),l.rotate(90*Math.PI/180),a._rotate_=!0)}function ba(l,a,r,e,t){if(e.beginPath(),t.dataPointShapeType=="hollow"?(e.setStrokeStyle(a),e.setFillStyle(t.background),e.setLineWidth(2*t.pix)):(e.setStrokeStyle("#ffffff"),e.setFillStyle(a),e.setLineWidth(1*t.pix)),r==="diamond")l.forEach(function(i,h){i!==null&&(e.moveTo(i.x,i.y-4.5),e.lineTo(i.x-4.5,i.y),e.lineTo(i.x,i.y+4.5),e.lineTo(i.x+4.5,i.y),e.lineTo(i.x,i.y-4.5))});else if(r==="circle")l.forEach(function(i,h){i!==null&&(e.moveTo(i.x+2.5*t.pix,i.y),e.arc(i.x,i.y,3*t.pix,0,2*Math.PI,!1))});else if(r==="square")l.forEach(function(i,h){i!==null&&(e.moveTo(i.x-3.5,i.y-3.5),e.rect(i.x-3.5,i.y-3.5,7,7))});else if(r==="triangle")l.forEach(function(i,h){i!==null&&(e.moveTo(i.x,i.y-4.5),e.lineTo(i.x-4.5,i.y+4.5),e.lineTo(i.x+4.5,i.y+4.5),e.lineTo(i.x,i.y-4.5))});else if(r==="none")return;e.closePath(),e.fill(),e.stroke()}function ja(l,a,r,e,t,i,h){if(t.tooltip&&!(t.tooltip.group.length>0&&t.tooltip.group.includes(h)==!1)){var d=typeof t.tooltip.index=="number"?t.tooltip.index:t.tooltip.index[t.tooltip.group.indexOf(h)];if(e.beginPath(),i.activeType=="hollow"?(e.setStrokeStyle(a),e.setFillStyle(t.background),e.setLineWidth(2*t.pix)):(e.setStrokeStyle("#ffffff"),e.setFillStyle(a),e.setLineWidth(1*t.pix)),r==="diamond")l.forEach(function(n,s){n!==null&&d==s&&(e.moveTo(n.x,n.y-4.5),e.lineTo(n.x-4.5,n.y),e.lineTo(n.x,n.y+4.5),e.lineTo(n.x+4.5,n.y),e.lineTo(n.x,n.y-4.5))});else if(r==="circle")l.forEach(function(n,s){n!==null&&d==s&&(e.moveTo(n.x+2.5*t.pix,n.y),e.arc(n.x,n.y,3*t.pix,0,2*Math.PI,!1))});else if(r==="square")l.forEach(function(n,s){n!==null&&d==s&&(e.moveTo(n.x-3.5,n.y-3.5),e.rect(n.x-3.5,n.y-3.5,7,7))});else if(r==="triangle")l.forEach(function(n,s){n!==null&&d==s&&(e.moveTo(n.x,n.y-4.5),e.lineTo(n.x-4.5,n.y+4.5),e.lineTo(n.x+4.5,n.y+4.5),e.lineTo(n.x,n.y-4.5))});else if(r==="none")return;e.closePath(),e.fill(),e.stroke()}}function _a(l,a,r,e){var t=l.title.fontSize||a.titleFontSize,i=l.subtitle.fontSize||a.subtitleFontSize,h=l.title.name||"",d=l.subtitle.name||"",n=l.title.color||l.fontColor,s=l.subtitle.color||l.fontColor,f=h?t:0,g=d?i:0,u=5;if(d){var o=H(d,i*l.pix,r),y=e.x-o/2+(l.subtitle.offsetX||0)*l.pix,x=e.y+i*l.pix/2+(l.subtitle.offsetY||0)*l.pix;h&&(x+=(f*l.pix+u)/2),r.beginPath(),r.setFontSize(i*l.pix),r.setFillStyle(s),r.fillText(d,y,x),r.closePath(),r.stroke()}if(h){var c=H(h,t*l.pix,r),m=e.x-c/2+(l.title.offsetX||0),v=e.y+t*l.pix/2+(l.title.offsetY||0)*l.pix;d&&(v-=(g*l.pix+u)/2),r.beginPath(),r.setFontSize(t*l.pix),r.setFillStyle(n),r.fillText(h,m,v),r.closePath(),r.stroke()}}function va(l,a,r,e,t){var i=a.data,h=a.textOffset?a.textOffset:0;l.forEach(function(d,n){if(d!==null){e.beginPath();var s=a.textSize?a.textSize*t.pix:r.fontSize;e.setFontSize(s),e.setFillStyle(a.textColor||t.fontColor);var f=i[n];typeof i[n]=="object"&&i[n]!==null&&(i[n].constructor.toString().indexOf("Array")>-1?f=i[n][1]:f=i[n].value);var g=a.formatter?a.formatter(f,n,a,t):f;e.setTextAlign("center"),e.fillText(String(g),d.x,d.y-4+h*t.pix),e.closePath(),e.stroke(),e.setTextAlign("left")}})}function wa(l,a,r,e,t){var i=a.data,h=a.textOffset?a.textOffset:0,d=t.extra.column.labelPosition;l.forEach(function(n,s){if(n!==null){e.beginPath();var f=a.textSize?a.textSize*t.pix:r.fontSize;e.setFontSize(f),e.setFillStyle(a.textColor||t.fontColor);var g=i[s];typeof i[s]=="object"&&i[s]!==null&&(i[s].constructor.toString().indexOf("Array")>-1?g=i[s][1]:g=i[s].value);var u=a.formatter?a.formatter(g,s,a,t):g;e.setTextAlign("center");var o=n.y-4*t.pix+h*t.pix;n.y>a.zeroPoints&&(o=n.y+h*t.pix+f),d=="insideTop"&&(o=n.y+f+h*t.pix,n.y>a.zeroPoints&&(o=n.y-h*t.pix-4*t.pix)),d=="center"&&(o=n.y+h*t.pix+(t.height-t.area[2]-n.y+f)/2,a.zeroPoints<t.height-t.area[2]&&(o=n.y+h*t.pix+(a.zeroPoints-n.y+f)/2),n.y>a.zeroPoints&&(o=n.y-h*t.pix-(n.y-a.zeroPoints-f)/2),t.extra.column.type=="stack"&&(o=n.y+h*t.pix+(n.y0-n.y+f)/2)),d=="bottom"&&(o=t.height-t.area[2]+h*t.pix-4*t.pix,a.zeroPoints<t.height-t.area[2]&&(o=a.zeroPoints+h*t.pix-4*t.pix),n.y>a.zeroPoints&&(o=a.zeroPoints-h*t.pix+f+2*t.pix),t.extra.column.type=="stack"&&(o=n.y0+h*t.pix-4*t.pix)),e.fillText(String(u),n.x,o),e.closePath(),e.stroke(),e.setTextAlign("left")}})}function _e(l,a,r,e,t,i){a.data;var h=a.textOffset?a.textOffset:0;t.extra.mount.labelPosition,l.forEach(function(d,n){if(d!==null){e.beginPath();var s=a[n].textSize?a[n].textSize*t.pix:r.fontSize;e.setFontSize(s),e.setFillStyle(a[n].textColor||t.fontColor);var f=d.value,g=a[n].formatter?a[n].formatter(f,n,a,t):f;e.setTextAlign("center");var u=d.y-4*t.pix+h*t.pix;d.y>i&&(u=d.y+h*t.pix+s),e.fillText(String(g),d.x,u),e.closePath(),e.stroke(),e.setTextAlign("left")}})}function Ga(l,a,r,e,t){var i=a.data;a.textOffset&&a.textOffset,l.forEach(function(h,d){if(h!==null){e.beginPath();var n=a.textSize?a.textSize*t.pix:r.fontSize;e.setFontSize(n),e.setFillStyle(a.textColor||t.fontColor);var s=i[d];typeof i[d]=="object"&&i[d]!==null&&(s=i[d].value);var f=a.formatter?a.formatter(s,d,a,t):s;e.setTextAlign("left"),e.fillText(String(f),h.x+4*t.pix,h.y+n/2-3),e.closePath(),e.stroke()}})}function ke(l,a,r,e,t,i){a-=l.width/2+l.labelOffset*e.pix,a=a<10?10:a;let h;l.endAngle<l.startAngle?h=2+l.endAngle-l.startAngle:h=l.startAngle-l.endAngle;let d=h/l.splitLine.splitNumber,s=(l.endNumber-l.startNumber)/l.splitLine.splitNumber,f=l.startAngle,g=l.startNumber;for(let c=0;c<l.splitLine.splitNumber+1;c++){var u={x:a*Math.cos(f*Math.PI),y:a*Math.sin(f*Math.PI)},o=l.formatter?l.formatter(g,c,e):g;u.x+=r.x-H(o,t.fontSize,i)/2,u.y+=r.y;var y=u.x,x=u.y;i.beginPath(),i.setFontSize(t.fontSize),i.setFillStyle(l.labelColor||e.fontColor),i.fillText(o,y,x+t.fontSize/2),i.closePath(),i.stroke(),f+=d,f>=2&&(f=f%2),g+=s}}function Ie(l,a,r,e,t,i){var h=e.extra.radar||{};l.forEach(function(d,n){if(h.labelPointShow===!0&&e.categories[n]!==""){var s={x:a*Math.cos(d),y:a*Math.sin(d)},f=ra(s.x,s.y,r);i.setFillStyle(h.labelPointColor),i.beginPath(),i.arc(f.x,f.y,h.labelPointRadius*e.pix,0,2*Math.PI,!1),i.closePath(),i.fill()}if(h.labelShow===!0){var g={x:(a+t.radarLabelTextMargin*e.pix)*Math.cos(d),y:(a+t.radarLabelTextMargin*e.pix)*Math.sin(d)},u=ra(g.x,g.y,r),o=u.x,y=u.y;la.approximatelyEqual(g.x,0)?o-=H(e.categories[n]||"",t.fontSize,i)/2:g.x<0&&(o-=H(e.categories[n]||"",t.fontSize,i)),i.beginPath(),i.setFontSize(t.fontSize),i.setFillStyle(h.labelColor||e.fontColor),i.fillText(e.categories[n]||"",o,y+t.fontSize/2),i.closePath(),i.stroke()}})}function Ja(l,a,r,e,t,i){var h=r.pieChartLinePadding,d=[],n=null,s=l.map(function(f,g){var u=f.formatter?f.formatter(f,g,l,a):la.toFixed(f._proportion_.toFixed(4)*100)+"%";u=f.labelText?f.labelText:u;var o=2*Math.PI-(f._start_+2*Math.PI*f._proportion_/2);f._rose_proportion_&&(o=2*Math.PI-(f._start_+2*Math.PI*f._rose_proportion_/2));var y=f.color,x=f._radius_;return{arc:o,text:u,color:y,radius:x,textColor:f.textColor,textSize:f.textSize,labelShow:f.labelShow}});for(let f=0;f<s.length;f++){let g=s[f],u=Math.cos(g.arc)*(g.radius+h),o=Math.sin(g.arc)*(g.radius+h),y=Math.cos(g.arc)*g.radius,x=Math.sin(g.arc)*g.radius,c=u>=0?u+r.pieChartTextPadding:u-r.pieChartTextPadding,m=o,v=H(g.text,g.textSize*a.pix||r.fontSize,e),b=m;n&&la.isSameXCoordinateArea(n.start,{x:c})&&(c>0?b=Math.min(m,n.start.y):u<0||m>0?b=Math.max(m,n.start.y):b=Math.min(m,n.start.y)),c<0&&(c-=v);let P={lineStart:{x:y,y:x},lineEnd:{x:u,y:o},start:{x:c,y:b},width:v,height:r.fontSize,text:g.text,color:g.color,textColor:g.textColor,textSize:g.textSize};n=pa(P,n),d.push(n)}for(let f=0;f<d.length;f++){if(s[f].labelShow===!1)continue;let g=d[f],u=ra(g.lineStart.x,g.lineStart.y,i),o=ra(g.lineEnd.x,g.lineEnd.y,i),y=ra(g.start.x,g.start.y,i);e.setLineWidth(1*a.pix),e.setFontSize(g.textSize*a.pix||r.fontSize),e.beginPath(),e.setStrokeStyle(g.color),e.setFillStyle(g.color),e.moveTo(u.x,u.y);let x=g.start.x<0?y.x+g.width:y.x,c=g.start.x<0?y.x-5:y.x+5;e.quadraticCurveTo(o.x,o.y,x,y.y),e.moveTo(u.x,u.y),e.stroke(),e.closePath(),e.beginPath(),e.moveTo(y.x+g.width,y.y),e.arc(x,y.y,2*a.pix,0,2*Math.PI),e.closePath(),e.fill(),e.beginPath(),e.setFontSize(g.textSize*a.pix||r.fontSize),e.setFillStyle(g.textColor||a.fontColor),e.fillText(g.text,c,y.y+3),e.closePath(),e.stroke(),e.closePath()}}function ze(l,a,r,e){var t=a.extra.tooltip||{};t.gridType=t.gridType==null?"solid":t.gridType,t.dashLength=t.dashLength==null?4:t.dashLength;var i=a.area[0],h=a.height-a.area[2];if(t.gridType=="dash"&&e.setLineDash([t.dashLength,t.dashLength]),e.setStrokeStyle(t.gridColor||"#cccccc"),e.setLineWidth(1*a.pix),e.beginPath(),e.moveTo(l,i),e.lineTo(l,h),e.stroke(),e.setLineDash([]),t.xAxisLabel){let d=a.categories[a.tooltip.index];e.setFontSize(r.fontSize);let n=H(d,r.fontSize,e),s=l-.5*n,f=h+2*a.pix;e.beginPath(),e.setFillStyle(D(t.labelBgColor||r.toolTipBackground,t.labelBgOpacity||r.toolTipOpacity)),e.setStrokeStyle(t.labelBgColor||r.toolTipBackground),e.setLineWidth(1*a.pix),e.rect(s-t.boxPadding*a.pix,f,n+2*t.boxPadding*a.pix,r.fontSize+2*t.boxPadding*a.pix),e.closePath(),e.stroke(),e.fill(),e.beginPath(),e.setFontSize(r.fontSize),e.setFillStyle(t.labelFontColor||a.fontColor),e.fillText(String(d),s,f+t.boxPadding*a.pix+r.fontSize),e.closePath(),e.stroke()}}function aa(l,a,r){let e=I({},{type:"solid",dashLength:4,data:[]},l.extra.markLine),t=l.area[3],i=l.width-l.area[1],h=Le(e.data,l);for(let d=0;d<h.length;d++){let n=I({},{lineColor:"#DE4A42",showLabel:!1,labelFontSize:13,labelPadding:6,labelFontColor:"#666666",labelBgColor:"#DFE8FF",labelBgOpacity:.8,labelAlign:"left",labelOffsetX:0,labelOffsetY:0},h[d]);if(e.type=="dash"&&r.setLineDash([e.dashLength,e.dashLength]),r.setStrokeStyle(n.lineColor),r.setLineWidth(1*l.pix),r.beginPath(),r.moveTo(t,n.y),r.lineTo(i,n.y),r.stroke(),r.setLineDash([]),n.showLabel){let s=n.labelFontSize*l.pix,f=n.labelText?n.labelText:n.value;r.setFontSize(s);let u=H(f,s,r)+n.labelPadding*l.pix*2,o=n.labelAlign=="left"?l.area[3]-u:l.width-l.area[1];o+=n.labelOffsetX;let y=n.y-.5*s-n.labelPadding*l.pix;y+=n.labelOffsetY;let x=o+n.labelPadding*l.pix;n.y,r.setFillStyle(D(n.labelBgColor,n.labelBgOpacity)),r.setStrokeStyle(n.labelBgColor),r.setLineWidth(1*l.pix),r.beginPath(),r.rect(o,y,u,s+2*n.labelPadding*l.pix),r.closePath(),r.stroke(),r.fill(),r.setFontSize(s),r.setTextAlign("left"),r.setFillStyle(n.labelFontColor),r.fillText(String(f),x,y+s+n.labelPadding*l.pix/2),r.stroke(),r.setTextAlign("left")}}}function Re(l,a,r,e,t){var i=I({},{gridType:"solid",dashLength:4},l.extra.tooltip),h=l.area[3],d=l.width-l.area[1];if(i.gridType=="dash"&&r.setLineDash([i.dashLength,i.dashLength]),r.setStrokeStyle(i.gridColor||"#cccccc"),r.setLineWidth(1*l.pix),r.beginPath(),r.moveTo(h,l.tooltip.offset.y),r.lineTo(d,l.tooltip.offset.y),r.stroke(),r.setLineDash([]),i.yAxisLabel){let n=i.boxPadding*l.pix,s=Fe(l.tooltip.offset.y,l.series,l),f=l.chartData.yAxisData.yAxisWidth,g=l.area[3],u=l.width-l.area[1];for(let o=0;o<s.length;o++){r.setFontSize(i.fontSize*l.pix);let y=H(s[o],i.fontSize*l.pix,r),x,c,m;f[o].position=="left"?(x=g-(y+n*2)-2*l.pix,c=Math.max(x,x+y+n*2)):(x=u+2*l.pix,c=Math.max(x+f[o].width,x+y+n*2)),m=c-x;let v=x+(m-y)/2,b=l.tooltip.offset.y;r.beginPath(),r.setFillStyle(D(i.labelBgColor||a.toolTipBackground,i.labelBgOpacity||a.toolTipOpacity)),r.setStrokeStyle(i.labelBgColor||a.toolTipBackground),r.setLineWidth(1*l.pix),r.rect(x,b-.5*a.fontSize-n,m,a.fontSize+2*n),r.closePath(),r.stroke(),r.fill(),r.beginPath(),r.setFontSize(a.fontSize),r.setFillStyle(i.labelFontColor||l.fontColor),r.fillText(s[o],v,b+.5*a.fontSize),r.closePath(),r.stroke(),f[o].position=="left"?g-=f[o].width+l.yAxis.padding*l.pix:u+=f[o].width+l.yAxis.padding*l.pix}}}function We(l,a,r,e,t){var i=I({},{activeBgColor:"#000000",activeBgOpacity:.08,activeWidth:t},a.extra.column);i.activeWidth=i.activeWidth>t?t:i.activeWidth;var h=a.area[0],d=a.height-a.area[2];e.beginPath(),e.setFillStyle(D(i.activeBgColor,i.activeBgOpacity)),e.rect(l-i.activeWidth/2,h,i.activeWidth,d-h),e.closePath(),e.fill(),e.setFillStyle("#FFFFFF")}function Oe(l,a,r,e,t){var i=I({},{activeBgColor:"#000000",activeBgOpacity:.08},a.extra.bar),h=a.area[3],d=a.width-a.area[1];e.beginPath(),e.setFillStyle(D(i.activeBgColor,i.activeBgOpacity)),e.rect(h,l-t/2,d-h,t),e.closePath(),e.fill(),e.setFillStyle("#FFFFFF")}function Ee(l,a,r,e,t,i,h){var d=I({},{showBox:!0,showArrow:!0,showCategory:!1,bgColor:"#000000",bgOpacity:.7,borderColor:"#000000",borderWidth:0,borderRadius:0,borderOpacity:.7,boxPadding:3,fontColor:"#FFFFFF",fontSize:13,lineHeight:20,legendShow:!0,legendShape:"auto",splitLine:!0},r.extra.tooltip);d.showCategory==!0&&r.categories&&l.unshift({text:r.categories[r.tooltip.index],color:null});var n=d.fontSize*r.pix,s=d.lineHeight*r.pix,f=d.boxPadding*r.pix,g=n,u=5*r.pix;d.legendShow==!1&&(g=0,u=0);var o=d.showArrow?8*r.pix:0,y=!1;(r.type=="line"||r.type=="mount"||r.type=="area"||r.type=="candle"||r.type=="mix")&&d.splitLine==!0&&ze(r.tooltip.offset.x,r,e,t),a=I({x:0,y:0},a),a.y-=8*r.pix;var x=l.map(function(b){return H(b.text,n,t)}),c=g+u+4*f+Math.max.apply(null,x),m=2*f+l.length*s;if(d.showBox!=!1){a.x-Math.abs(r._scrollDistance_||0)+o+c>r.width&&(y=!0),m+a.y>r.height&&(a.y=r.height-m),t.beginPath(),t.setFillStyle(D(d.bgColor,d.bgOpacity)),t.setLineWidth(d.borderWidth*r.pix),t.setStrokeStyle(D(d.borderColor,d.borderOpacity));var v=d.borderRadius;y?(c+o>r.width&&(a.x=r.width+Math.abs(r._scrollDistance_||0)+o+(c-r.width)),c>a.x&&(a.x=r.width+Math.abs(r._scrollDistance_||0)+o+(c-r.width)),d.showArrow&&(t.moveTo(a.x,a.y+10*r.pix),t.lineTo(a.x-o,a.y+10*r.pix+5*r.pix)),t.arc(a.x-o-v,a.y+m-v,v,0,Math.PI/2,!1),t.arc(a.x-o-Math.round(c)+v,a.y+m-v,v,Math.PI/2,Math.PI,!1),t.arc(a.x-o-Math.round(c)+v,a.y+v,v,-Math.PI,-Math.PI/2,!1),t.arc(a.x-o-v,a.y+v,v,-Math.PI/2,0,!1),d.showArrow&&(t.lineTo(a.x-o,a.y+10*r.pix-5*r.pix),t.lineTo(a.x,a.y+10*r.pix))):(d.showArrow&&(t.moveTo(a.x,a.y+10*r.pix),t.lineTo(a.x+o,a.y+10*r.pix-5*r.pix)),t.arc(a.x+o+v,a.y+v,v,-Math.PI,-Math.PI/2,!1),t.arc(a.x+o+Math.round(c)-v,a.y+v,v,-Math.PI/2,0,!1),t.arc(a.x+o+Math.round(c)-v,a.y+m-v,v,0,Math.PI/2,!1),t.arc(a.x+o+v,a.y+m-v,v,Math.PI/2,Math.PI,!1),d.showArrow&&(t.lineTo(a.x+o,a.y+10*r.pix+5*r.pix),t.lineTo(a.x,a.y+10*r.pix))),t.closePath(),t.fill(),d.borderWidth>0&&t.stroke(),d.legendShow&&l.forEach(function(b,P){if(b.color!==null){t.beginPath(),t.setFillStyle(b.color);var C=a.x+o+2*f,S=a.y+(s-n)/2+s*P+f+1;switch(y&&(C=a.x-c-o+2*f),b.legendShape){case"line":t.moveTo(C,S+.5*g-2*r.pix),t.fillRect(C,S+.5*g-2*r.pix,g,4*r.pix);break;case"triangle":t.moveTo(C+7.5*r.pix,S+.5*g-5*r.pix),t.lineTo(C+2.5*r.pix,S+.5*g+5*r.pix),t.lineTo(C+12.5*r.pix,S+.5*g+5*r.pix),t.lineTo(C+7.5*r.pix,S+.5*g-5*r.pix);break;case"diamond":t.moveTo(C+7.5*r.pix,S+.5*g-5*r.pix),t.lineTo(C+2.5*r.pix,S+.5*g),t.lineTo(C+7.5*r.pix,S+.5*g+5*r.pix),t.lineTo(C+12.5*r.pix,S+.5*g),t.lineTo(C+7.5*r.pix,S+.5*g-5*r.pix);break;case"circle":t.moveTo(C+7.5*r.pix,S+.5*g),t.arc(C+7.5*r.pix,S+.5*g,5*r.pix,0,2*Math.PI);break;case"rect":t.moveTo(C,S+.5*g-5*r.pix),t.fillRect(C,S+.5*g-5*r.pix,15*r.pix,10*r.pix);break;case"square":t.moveTo(C+2*r.pix,S+.5*g-5*r.pix),t.fillRect(C+2*r.pix,S+.5*g-5*r.pix,10*r.pix,10*r.pix);break;default:t.moveTo(C,S+.5*g-5*r.pix),t.fillRect(C,S+.5*g-5*r.pix,15*r.pix,10*r.pix)}t.closePath(),t.fill()}}),l.forEach(function(b,P){var C=a.x+o+2*f+g+u;y&&(C=a.x-c-o+2*f+g+u);var S=a.y+s*P+(s-n)/2-1+f+n;t.beginPath(),t.setFontSize(n),t.setTextBaseline("normal"),t.setFillStyle(d.fontColor),t.fillText(b.text,C,S),t.closePath(),t.stroke()})}}function Be(l,a,r,e){let t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,i=a.chartData.xAxisData,h=i.xAxisPoints,d=i.eachSpacing,n=I({},{type:"group",width:d/2,meterBorder:4,meterFillColor:"#FFFFFF",barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0,labelPosition:"outside"},a.extra.column),s=[];e.save();let f=-2,g=h.length+2;return a._scrollDistance_&&a._scrollDistance_!==0&&a.enableScroll===!0&&(e.translate(a._scrollDistance_,0),f=Math.floor(-a._scrollDistance_/d)-2,g=f+a.xAxis.itemCount+4),a.tooltip&&a.tooltip.textList&&a.tooltip.textList.length&&t===1&&We(a.tooltip.offset.x,a,r,e,d),n.customColor=ta(n.linearType,n.customColor,l,r),l.forEach(function(u,o){let y,x,c;y=[].concat(a.chartData.yAxisData.ranges[u.index]),x=y.pop(),c=y.shift();let v=(a.height-a.area[0]-a.area[2])*(0-x)/(c-x),b=a.height-Math.round(v)-a.area[2];u.zeroPoints=b;var P=u.data;switch(n.type){case"group":var F=Wa(P,x,c,h,d,a,r,b,t),C=Ta(P,x,c,h,d,a,r,o,l,t);s.push(C),F=ca(F,d,l.length,o,r,a);for(let O=0;O<F.length;O++){let L=F[O];if(L!==null&&O>f&&O<g){var S=L.x-L.width/2,T=a.height-L.y-a.area[2];e.beginPath();var A=L.color||u.color,w=L.color||u.color;if(n.linearType!=="none"){var _=e.createLinearGradient(S,L.y,S,b);n.linearType=="opacity"?(_.addColorStop(0,D(A,n.linearOpacity)),_.addColorStop(1,D(A,1))):(_.addColorStop(0,D(n.customColor[u.linearIndex],n.linearOpacity)),_.addColorStop(n.colorStop,D(n.customColor[u.linearIndex],n.linearOpacity)),_.addColorStop(1,D(A,1))),A=_}if(n.barBorderRadius&&n.barBorderRadius.length===4||n.barBorderCircle===!0){const N=S,X=L.y>b?b:L.y,k=L.width,E=Math.abs(b-L.y);n.barBorderCircle&&(n.barBorderRadius=[k/2,k/2,0,0]),L.y>b&&(n.barBorderRadius=[0,0,k/2,k/2]);let[B,G,W,z]=n.barBorderRadius,R=Math.min(k/2,E/2);B=B>R?R:B,G=G>R?R:G,W=W>R?R:W,z=z>R?R:z,B=B<0?0:B,G=G<0?0:G,W=W<0?0:W,z=z<0?0:z,e.arc(N+B,X+B,B,-Math.PI,-Math.PI/2),e.arc(N+k-G,X+G,G,-Math.PI/2,0),e.arc(N+k-W,X+E-W,W,0,Math.PI/2),e.arc(N+z,X+E-z,z,Math.PI/2,Math.PI)}else e.moveTo(S,L.y),e.lineTo(S+L.width,L.y),e.lineTo(S+L.width,b),e.lineTo(S,b),e.lineTo(S,L.y),e.setLineWidth(1),e.setStrokeStyle(w);e.setFillStyle(A),e.closePath(),e.fill()}}break;case"stack":var F=Ta(P,x,c,h,d,a,r,o,l,t);s.push(F),F=we(F,d,l.length,o,r,a);for(let O=0;O<F.length;O++){let L=F[O];if(L!==null&&O>f&&O<g){e.beginPath();var A=L.color||u.color,S=L.x-L.width/2+1,T=a.height-L.y-a.area[2],M=a.height-L.y0-a.area[2];o>0&&(T-=M),e.setFillStyle(A),e.moveTo(S,L.y),e.fillRect(S,L.y,L.width,T),e.closePath(),e.fill()}}break;case"meter":var F=Q(P,x,c,h,d,a,r,t);s.push(F),F=Pe(F,d,l.length,o,r,a,n.meterBorder);for(let O=0;O<F.length;O++){let L=F[O];if(L!==null&&O>f&&O<g){e.beginPath(),o==0&&n.meterBorder>0&&(e.setStrokeStyle(u.color),e.setLineWidth(n.meterBorder*a.pix)),o==0?e.setFillStyle(n.meterFillColor):e.setFillStyle(L.color||u.color);var S=L.x-L.width/2,T=a.height-L.y-a.area[2];if(n.barBorderRadius&&n.barBorderRadius.length===4||n.barBorderCircle===!0){const k=S,E=L.y,B=L.width,G=b-L.y;n.barBorderCircle&&(n.barBorderRadius=[B/2,B/2,0,0]);let[W,z,R,V]=n.barBorderRadius,q=Math.min(B/2,G/2);W=W>q?q:W,z=z>q?q:z,R=R>q?q:R,V=V>q?q:V,W=W<0?0:W,z=z<0?0:z,R=R<0?0:R,V=V<0?0:V,e.arc(k+W,E+W,W,-Math.PI,-Math.PI/2),e.arc(k+B-z,E+z,z,-Math.PI/2,0),e.arc(k+B-R,E+G-R,R,0,Math.PI/2),e.arc(k+V,E+G-V,V,Math.PI/2,Math.PI),e.fill()}else e.moveTo(S,L.y),e.lineTo(S+L.width,L.y),e.lineTo(S+L.width,b),e.lineTo(S,b),e.lineTo(S,L.y),e.fill();o==0&&n.meterBorder>0&&(e.closePath(),e.stroke())}}break}}),a.dataLabel!==!1&&t===1&&l.forEach(function(u,o){let y,x,c;y=[].concat(a.chartData.yAxisData.ranges[u.index]),x=y.pop(),c=y.shift();var m=u.data;switch(n.type){case"group":var v=Wa(m,x,c,h,d,a,r,t);v=ca(v,d,l.length,o,r,a),wa(v,u,r,e,a);break;case"stack":var v=Ta(m,x,c,h,d,a,r,o,l,t);wa(v,u,r,e,a);break;case"meter":var v=Q(m,x,c,h,d,a,r,t);wa(v,u,r,e,a);break}}),e.restore(),{xAxisPoints:h,calPoints:s,eachSpacing:d}}function Ge(l,a,r,e){let t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,i=a.chartData.xAxisData,h=i.xAxisPoints,d=i.eachSpacing,n=I({},{type:"mount",widthRatio:1,borderWidth:1,barBorderCircle:!1,barBorderRadius:[],linearType:"none",linearOpacity:1,customColor:[],colorStop:0},a.extra.mount);n.widthRatio=n.widthRatio<=0?0:n.widthRatio,n.widthRatio=n.widthRatio>=2?2:n.widthRatio,e.save();let s=-2,f=h.length+2;a._scrollDistance_&&a._scrollDistance_!==0&&a.enableScroll===!0&&(e.translate(a._scrollDistance_,0),s=Math.floor(-a._scrollDistance_/d)-2,f=s+a.xAxis.itemCount+4),n.customColor=ta(n.linearType,n.customColor,l,r);let g,u,o;g=[].concat(a.chartData.yAxisData.ranges[0]),u=g.pop(),o=g.shift();let x=(a.height-a.area[0]-a.area[2])*(0-u)/(o-u),c=a.height-Math.round(x)-a.area[2];var m=Oa(l,u,o,h,d,a,n,c,t);switch(n.type){case"bar":for(let T=0;T<m.length;T++){let A=m[T];if(A!==null&&T>s&&T<f){var v=A.x-d*n.widthRatio/2,b=a.height-A.y-a.area[2];e.beginPath();var P=A.color||l[T].color,C=A.color||l[T].color;if(n.linearType!=="none"){var S=e.createLinearGradient(v,A.y,v,c);n.linearType=="opacity"?(S.addColorStop(0,D(P,n.linearOpacity)),S.addColorStop(1,D(P,1))):(S.addColorStop(0,D(n.customColor[l[T].linearIndex],n.linearOpacity)),S.addColorStop(n.colorStop,D(n.customColor[l[T].linearIndex],n.linearOpacity)),S.addColorStop(1,D(P,1))),P=S}if(n.barBorderRadius&&n.barBorderRadius.length===4||n.barBorderCircle===!0){const w=v,_=A.y>c?c:A.y,M=A.width,F=Math.abs(c-A.y);n.barBorderCircle&&(n.barBorderRadius=[M/2,M/2,0,0]),A.y>c&&(n.barBorderRadius=[0,0,M/2,M/2]);let[O,L,N,X]=n.barBorderRadius,k=Math.min(M/2,F/2);O=O>k?k:O,L=L>k?k:L,N=N>k?k:N,X=X>k?k:X,O=O<0?0:O,L=L<0?0:L,N=N<0?0:N,X=X<0?0:X,e.arc(w+O,_+O,O,-Math.PI,-Math.PI/2),e.arc(w+M-L,_+L,L,-Math.PI/2,0),e.arc(w+M-N,_+F-N,N,0,Math.PI/2),e.arc(w+X,_+F-X,X,Math.PI/2,Math.PI)}else e.moveTo(v,A.y),e.lineTo(v+A.width,A.y),e.lineTo(v+A.width,c),e.lineTo(v,c),e.lineTo(v,A.y);e.setStrokeStyle(C),e.setFillStyle(P),n.borderWidth>0&&(e.setLineWidth(n.borderWidth*a.pix),e.closePath(),e.stroke()),e.fill()}}break;case"triangle":for(let T=0;T<m.length;T++){let A=m[T];if(A!==null&&T>s&&T<f){var v=A.x-d*n.widthRatio/2,b=a.height-A.y-a.area[2];e.beginPath();var P=A.color||l[T].color,C=A.color||l[T].color;if(n.linearType!=="none"){var S=e.createLinearGradient(v,A.y,v,c);n.linearType=="opacity"?(S.addColorStop(0,D(P,n.linearOpacity)),S.addColorStop(1,D(P,1))):(S.addColorStop(0,D(n.customColor[l[T].linearIndex],n.linearOpacity)),S.addColorStop(n.colorStop,D(n.customColor[l[T].linearIndex],n.linearOpacity)),S.addColorStop(1,D(P,1))),P=S}e.moveTo(v,c),e.lineTo(A.x,A.y),e.lineTo(v+A.width,c),e.setStrokeStyle(C),e.setFillStyle(P),n.borderWidth>0&&(e.setLineWidth(n.borderWidth*a.pix),e.stroke()),e.fill()}}break;case"mount":for(let T=0;T<m.length;T++){let A=m[T];if(A!==null&&T>s&&T<f){var v=A.x-d*n.widthRatio/2,b=a.height-A.y-a.area[2];e.beginPath();var P=A.color||l[T].color,C=A.color||l[T].color;if(n.linearType!=="none"){var S=e.createLinearGradient(v,A.y,v,c);n.linearType=="opacity"?(S.addColorStop(0,D(P,n.linearOpacity)),S.addColorStop(1,D(P,1))):(S.addColorStop(0,D(n.customColor[l[T].linearIndex],n.linearOpacity)),S.addColorStop(n.colorStop,D(n.customColor[l[T].linearIndex],n.linearOpacity)),S.addColorStop(1,D(P,1))),P=S}e.moveTo(v,c),e.bezierCurveTo(A.x-A.width/4,c,A.x-A.width/4,A.y,A.x,A.y),e.bezierCurveTo(A.x+A.width/4,A.y,A.x+A.width/4,c,v+A.width,c),e.setStrokeStyle(C),e.setFillStyle(P),n.borderWidth>0&&(e.setLineWidth(n.borderWidth*a.pix),e.stroke()),e.fill()}}break;case"sharp":for(let T=0;T<m.length;T++){let A=m[T];if(A!==null&&T>s&&T<f){var v=A.x-d*n.widthRatio/2,b=a.height-A.y-a.area[2];e.beginPath();var P=A.color||l[T].color,C=A.color||l[T].color;if(n.linearType!=="none"){var S=e.createLinearGradient(v,A.y,v,c);n.linearType=="opacity"?(S.addColorStop(0,D(P,n.linearOpacity)),S.addColorStop(1,D(P,1))):(S.addColorStop(0,D(n.customColor[l[T].linearIndex],n.linearOpacity)),S.addColorStop(n.colorStop,D(n.customColor[l[T].linearIndex],n.linearOpacity)),S.addColorStop(1,D(P,1))),P=S}e.moveTo(v,c),e.quadraticCurveTo(A.x-0,c-b/4,A.x,A.y),e.quadraticCurveTo(A.x+0,c-b/4,v+A.width,c),e.setStrokeStyle(C),e.setFillStyle(P),n.borderWidth>0&&(e.setLineWidth(n.borderWidth*a.pix),e.stroke()),e.fill()}}break}if(a.dataLabel!==!1&&t===1){let T,A,w;T=[].concat(a.chartData.yAxisData.ranges[0]),A=T.pop(),w=T.shift();var m=Oa(l,A,w,h,d,a,n,c,t);_e(m,l,r,e,a,c)}return e.restore(),{xAxisPoints:h,calPoints:m,eachSpacing:d}}function He(l,a,r,e){let t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,i=[],h=(a.height-a.area[0]-a.area[2])/a.categories.length;for(let g=0;g<a.categories.length;g++)i.push(a.area[0]+h/2+h*g);let d=I({},{type:"group",width:h/2,meterBorder:4,meterFillColor:"#FFFFFF",barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0},a.extra.bar),n=[];e.save();let s=-2,f=i.length+2;return a.tooltip&&a.tooltip.textList&&a.tooltip.textList.length&&t===1&&Oe(a.tooltip.offset.y,a,r,e,h),d.customColor=ta(d.linearType,d.customColor,l,r),l.forEach(function(g,u){let o,y,x;o=[].concat(a.chartData.xAxisData.ranges),x=o.pop(),y=o.shift();var c=g.data;switch(d.type){case"group":var T=Ea(c,y,x,i,h,a,r,t),m=Pa(c,y,x,i,h,a,r,u,l,t);n.push(m),T=Ra(T,h,l.length,u,r,a);for(let A=0;A<T.length;A++){let w=T[A];if(w!==null&&A>s&&A<f){var v=a.area[3],b=w.y-w.width/2;w.height,e.beginPath();var P=w.color||g.color,C=w.color||g.color;if(d.linearType!=="none"){var S=e.createLinearGradient(v,w.y,w.x,w.y);d.linearType=="opacity"?(S.addColorStop(0,D(P,d.linearOpacity)),S.addColorStop(1,D(P,1))):(S.addColorStop(0,D(d.customColor[g.linearIndex],d.linearOpacity)),S.addColorStop(d.colorStop,D(d.customColor[g.linearIndex],d.linearOpacity)),S.addColorStop(1,D(P,1))),P=S}if(d.barBorderRadius&&d.barBorderRadius.length===4||d.barBorderCircle===!0){const _=v,M=w.width,F=w.y-w.width/2,O=w.height;d.barBorderCircle&&(d.barBorderRadius=[M/2,M/2,0,0]);let[L,N,X,k]=d.barBorderRadius,E=Math.min(M/2,O/2);L=L>E?E:L,N=N>E?E:N,X=X>E?E:X,k=k>E?E:k,L=L<0?0:L,N=N<0?0:N,X=X<0?0:X,k=k<0?0:k,e.arc(_+k,F+k,k,-Math.PI,-Math.PI/2),e.arc(w.x-L,F+L,L,-Math.PI/2,0),e.arc(w.x-N,F+M-N,N,0,Math.PI/2),e.arc(_+X,F+M-X,X,Math.PI/2,Math.PI)}else e.moveTo(v,b),e.lineTo(w.x,b),e.lineTo(w.x,b+w.width),e.lineTo(v,b+w.width),e.lineTo(v,b),e.setLineWidth(1),e.setStrokeStyle(C);e.setFillStyle(P),e.closePath(),e.fill()}}break;case"stack":var T=Pa(c,y,x,i,h,a,r,u,l,t);n.push(T),T=Ce(T,h,l.length,u,r,a);for(let A=0;A<T.length;A++){let w=T[A];if(w!==null&&A>s&&A<f){e.beginPath();var P=w.color||g.color,v=w.x0;e.setFillStyle(P),e.moveTo(v,w.y-w.width/2),e.fillRect(v,w.y-w.width/2,w.height,w.width),e.closePath(),e.fill()}}break}}),a.dataLabel!==!1&&t===1&&l.forEach(function(g,u){let o,y,x;o=[].concat(a.chartData.xAxisData.ranges),x=o.pop(),y=o.shift();var c=g.data;switch(d.type){case"group":var m=Ea(c,y,x,i,h,a,r,t);m=Ra(m,h,l.length,u,r,a),Ga(m,g,r,e,a);break;case"stack":var m=Pa(c,y,x,i,h,a,r,u,l,t);Ga(m,g,r,e,a);break}}),{yAxisPoints:i,calPoints:n,eachSpacing:h}}function Ne(l,a,r,e,t){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1,h=I({},{color:{},average:{}},r.extra.candle);h.color=I({},{upLine:"#f04864",upFill:"#f04864",downLine:"#2fc25b",downFill:"#2fc25b"},h.color),h.average=I({},{show:!1,name:[],day:[],color:e.color},h.average),r.extra.candle=h;let d=r.chartData.xAxisData,n=d.xAxisPoints,s=d.eachSpacing,f=[];t.save();let g=-2,u=n.length+2,o=0,y=r.width+s;return r._scrollDistance_&&r._scrollDistance_!==0&&r.enableScroll===!0&&(t.translate(r._scrollDistance_,0),g=Math.floor(-r._scrollDistance_/s)-2,u=g+r.xAxis.itemCount+4,o=-r._scrollDistance_-s*2+r.area[3],y=o+(r.xAxis.itemCount+4)*s),(h.average.show||a)&&a.forEach(function(x,c){let m,v,b;m=[].concat(r.chartData.yAxisData.ranges[x.index]),v=m.pop(),b=m.shift();var P=x.data,C=Q(P,v,b,n,s,r,e,i),S=ga(C,x);for(let A=0;A<S.length;A++){let w=S[A];if(t.beginPath(),t.setStrokeStyle(x.color),t.setLineWidth(1),w.length===1)t.moveTo(w[0].x,w[0].y),t.arc(w[0].x,w[0].y,1,0,2*Math.PI);else{t.moveTo(w[0].x,w[0].y);let _=0;for(let M=0;M<w.length;M++){let F=w[M];if(_==0&&F.x>o&&(t.moveTo(F.x,F.y),_=1),M>0&&F.x>o&&F.x<y){var T=oa(w,M-1);t.bezierCurveTo(T.ctrA.x,T.ctrA.y,T.ctrB.x,T.ctrB.y,F.x,F.y)}}t.moveTo(w[0].x,w[0].y)}t.closePath(),t.stroke()}}),l.forEach(function(x,c){let m,v,b;m=[].concat(r.chartData.yAxisData.ranges[x.index]),v=m.pop(),b=m.shift();var P=x.data,C=De(P,v,b,n,s,r,e,i);f.push(C);var S=ga(C,x);for(let T=0;T<S[0].length;T++)if(T>g&&T<u){let A=S[0][T];t.beginPath(),P[T][1]-P[T][0]>0?(t.setStrokeStyle(h.color.upLine),t.setFillStyle(h.color.upFill),t.setLineWidth(1*r.pix),t.moveTo(A[3].x,A[3].y),t.lineTo(A[1].x,A[1].y),t.lineTo(A[1].x-s/4,A[1].y),t.lineTo(A[0].x-s/4,A[0].y),t.lineTo(A[0].x,A[0].y),t.lineTo(A[2].x,A[2].y),t.lineTo(A[0].x,A[0].y),t.lineTo(A[0].x+s/4,A[0].y),t.lineTo(A[1].x+s/4,A[1].y),t.lineTo(A[1].x,A[1].y),t.moveTo(A[3].x,A[3].y)):(t.setStrokeStyle(h.color.downLine),t.setFillStyle(h.color.downFill),t.setLineWidth(1*r.pix),t.moveTo(A[3].x,A[3].y),t.lineTo(A[0].x,A[0].y),t.lineTo(A[0].x-s/4,A[0].y),t.lineTo(A[1].x-s/4,A[1].y),t.lineTo(A[1].x,A[1].y),t.lineTo(A[2].x,A[2].y),t.lineTo(A[1].x,A[1].y),t.lineTo(A[1].x+s/4,A[1].y),t.lineTo(A[0].x+s/4,A[0].y),t.lineTo(A[0].x,A[0].y),t.moveTo(A[3].x,A[3].y)),t.closePath(),t.fill(),t.stroke()}}),t.restore(),{xAxisPoints:n,calPoints:f,eachSpacing:s}}function Xe(l,a,r,e){var t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,i=I({},{type:"straight",opacity:.2,addLine:!1,width:2,gradient:!1,activeType:"none"},a.extra.area);let h=a.chartData.xAxisData,d=h.xAxisPoints,n=h.eachSpacing,s=a.height-a.area[2],f=[];e.save();let g=0,u=a.width+n;return a._scrollDistance_&&a._scrollDistance_!==0&&a.enableScroll===!0&&(e.translate(a._scrollDistance_,0),g=-a._scrollDistance_-n*2+a.area[3],u=g+(a.xAxis.itemCount+4)*n),l.forEach(function(o,y){let x,c,m;x=[].concat(a.chartData.yAxisData.ranges[o.index]),c=x.pop(),m=x.shift();let v=o.data,b=Q(v,c,m,d,n,a,r,t);f.push(b);let P=ga(b,o);for(let C=0;C<P.length;C++){let S=P[C];if(e.beginPath(),e.setStrokeStyle(D(o.color,i.opacity)),i.gradient){let T=e.createLinearGradient(0,a.area[0],0,a.height-a.area[2]);T.addColorStop("0",D(o.color,i.opacity)),T.addColorStop("1.0",D("#FFFFFF",.1)),e.setFillStyle(T)}else e.setFillStyle(D(o.color,i.opacity));if(e.setLineWidth(i.width*a.pix),S.length>1){let T=S[0],A=S[S.length-1];e.moveTo(T.x,T.y);let w=0;if(i.type==="curve")for(let _=0;_<S.length;_++){let M=S[_];if(w==0&&M.x>g&&(e.moveTo(M.x,M.y),w=1),_>0&&M.x>g&&M.x<u){let F=oa(S,_-1);e.bezierCurveTo(F.ctrA.x,F.ctrA.y,F.ctrB.x,F.ctrB.y,M.x,M.y)}}if(i.type==="straight")for(let _=0;_<S.length;_++){let M=S[_];w==0&&M.x>g&&(e.moveTo(M.x,M.y),w=1),_>0&&M.x>g&&M.x<u&&e.lineTo(M.x,M.y)}if(i.type==="step")for(let _=0;_<S.length;_++){let M=S[_];w==0&&M.x>g&&(e.moveTo(M.x,M.y),w=1),_>0&&M.x>g&&M.x<u&&(e.lineTo(M.x,S[_-1].y),e.lineTo(M.x,M.y))}e.lineTo(A.x,s),e.lineTo(T.x,s),e.lineTo(T.x,T.y)}else{let T=S[0];e.moveTo(T.x-n/2,T.y)}if(e.closePath(),e.fill(),i.addLine){if(o.lineType=="dash"){let T=o.dashLength?o.dashLength:8;T*=a.pix,e.setLineDash([T,T])}if(e.beginPath(),e.setStrokeStyle(o.color),e.setLineWidth(i.width*a.pix),S.length===1)e.moveTo(S[0].x,S[0].y);else{e.moveTo(S[0].x,S[0].y);let T=0;if(i.type==="curve")for(let A=0;A<S.length;A++){let w=S[A];if(T==0&&w.x>g&&(e.moveTo(w.x,w.y),T=1),A>0&&w.x>g&&w.x<u){let _=oa(S,A-1);e.bezierCurveTo(_.ctrA.x,_.ctrA.y,_.ctrB.x,_.ctrB.y,w.x,w.y)}}if(i.type==="straight")for(let A=0;A<S.length;A++){let w=S[A];T==0&&w.x>g&&(e.moveTo(w.x,w.y),T=1),A>0&&w.x>g&&w.x<u&&e.lineTo(w.x,w.y)}if(i.type==="step")for(let A=0;A<S.length;A++){let w=S[A];T==0&&w.x>g&&(e.moveTo(w.x,w.y),T=1),A>0&&w.x>g&&w.x<u&&(e.lineTo(w.x,S[A-1].y),e.lineTo(w.x,w.y))}e.moveTo(S[0].x,S[0].y)}e.stroke(),e.setLineDash([])}}a.dataPointShape!==!1&&ba(b,o.color,o.pointShape,e,a),ja(b,o.color,o.pointShape,e,a,i,y)}),a.dataLabel!==!1&&t===1&&l.forEach(function(o,y){let x,c,m;x=[].concat(a.chartData.yAxisData.ranges[o.index]),c=x.pop(),m=x.shift();var v=o.data,b=Q(v,c,m,d,n,a,r,t);va(b,o,r,e,a)}),e.restore(),{xAxisPoints:d,calPoints:f,eachSpacing:n}}function Ve(l,a,r,e){var t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;I({},{type:"circle"},a.extra.scatter);let i=a.chartData.xAxisData,h=i.xAxisPoints,d=i.eachSpacing;var n=[];e.save();let s=0;return a.width+d,a._scrollDistance_&&a._scrollDistance_!==0&&a.enableScroll===!0&&(e.translate(a._scrollDistance_,0),s=-a._scrollDistance_-d*2+a.area[3],s+(a.xAxis.itemCount+4)*d),l.forEach(function(f,g){let u,o,y;u=[].concat(a.chartData.yAxisData.ranges[f.index]),o=u.pop(),y=u.shift();var x=f.data,c=Q(x,o,y,h,d,a,r,t);e.beginPath(),e.setStrokeStyle(f.color),e.setFillStyle(f.color),e.setLineWidth(1*a.pix);var m=f.pointShape;if(m==="diamond")c.forEach(function(v,b){v!==null&&(e.moveTo(v.x,v.y-4.5),e.lineTo(v.x-4.5,v.y),e.lineTo(v.x,v.y+4.5),e.lineTo(v.x+4.5,v.y),e.lineTo(v.x,v.y-4.5))});else if(m==="circle")c.forEach(function(v,b){v!==null&&(e.moveTo(v.x+2.5*a.pix,v.y),e.arc(v.x,v.y,3*a.pix,0,2*Math.PI,!1))});else if(m==="square")c.forEach(function(v,b){v!==null&&(e.moveTo(v.x-3.5,v.y-3.5),e.rect(v.x-3.5,v.y-3.5,7,7))});else if(m==="triangle")c.forEach(function(v,b){v!==null&&(e.moveTo(v.x,v.y-4.5),e.lineTo(v.x-4.5,v.y+4.5),e.lineTo(v.x+4.5,v.y+4.5),e.lineTo(v.x,v.y-4.5))});else if(m==="triangle")return;e.closePath(),e.fill(),e.stroke()}),a.dataLabel!==!1&&t===1&&l.forEach(function(f,g){let u,o,y;u=[].concat(a.chartData.yAxisData.ranges[f.index]),o=u.pop(),y=u.shift();var x=f.data,c=Q(x,o,y,h,d,a,r,t);va(c,f,r,e,a)}),e.restore(),{xAxisPoints:h,calPoints:n,eachSpacing:d}}function qe(l,a,r,e){var t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,i=I({},{opacity:1,border:2},a.extra.bubble);let h=a.chartData.xAxisData,d=h.xAxisPoints,n=h.eachSpacing;var s=[];e.save();let f=0;return a.width+n,a._scrollDistance_&&a._scrollDistance_!==0&&a.enableScroll===!0&&(e.translate(a._scrollDistance_,0),f=-a._scrollDistance_-n*2+a.area[3],f+(a.xAxis.itemCount+4)*n),l.forEach(function(g,u){let o,y,x;o=[].concat(a.chartData.yAxisData.ranges[g.index]),y=o.pop(),x=o.shift();var c=g.data,m=Q(c,y,x,d,n,a,r,t);e.beginPath(),e.setStrokeStyle(g.color),e.setLineWidth(i.border*a.pix),e.setFillStyle(D(g.color,i.opacity)),m.forEach(function(v,b){e.moveTo(v.x+v.r,v.y),e.arc(v.x,v.y,v.r*a.pix,0,2*Math.PI,!1)}),e.closePath(),e.fill(),e.stroke(),a.dataLabel!==!1&&t===1&&m.forEach(function(v,b){e.beginPath();var P=g.textSize*a.pix||r.fontSize;e.setFontSize(P),e.setFillStyle(g.textColor||"#FFFFFF"),e.setTextAlign("center"),e.fillText(String(v.t),v.x,v.y+P/2),e.closePath(),e.stroke(),e.setTextAlign("left")})}),e.restore(),{xAxisPoints:d,calPoints:s,eachSpacing:n}}function $e(l,a,r,e){var t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,i=I({},{type:"straight",width:2,activeType:"none",linearType:"none",onShadow:!1,animation:"vertical"},a.extra.line);i.width*=a.pix;let h=a.chartData.xAxisData,d=h.xAxisPoints,n=h.eachSpacing;var s=[];e.save();let f=0,g=a.width+n;return a._scrollDistance_&&a._scrollDistance_!==0&&a.enableScroll===!0&&(e.translate(a._scrollDistance_,0),f=-a._scrollDistance_-n*2+a.area[3],g=f+(a.xAxis.itemCount+4)*n),l.forEach(function(u,o){e.beginPath(),e.setStrokeStyle(u.color),e.moveTo(-1e4,-1e4),e.lineTo(-10001,-10001),e.stroke();let y,x,c;y=[].concat(a.chartData.yAxisData.ranges[u.index]),x=y.pop(),c=y.shift();var m=u.data,v=Me(m,x,c,d,n,a,r,i,t);s.push(v);var b=ga(v,u);if(u.lineType=="dash"){let T=u.dashLength?u.dashLength:8;T*=a.pix,e.setLineDash([T,T])}e.beginPath();var P=u.color;if(i.linearType!=="none"&&u.linearColor&&u.linearColor.length>0){for(var C=e.createLinearGradient(a.chartData.xAxisData.startX,a.height/2,a.chartData.xAxisData.endX,a.height/2),S=0;S<u.linearColor.length;S++)C.addColorStop(u.linearColor[S][0],D(u.linearColor[S][1],1));P=C}e.setStrokeStyle(P),i.onShadow==!0&&u.setShadow&&u.setShadow.length>0?e.setShadow(u.setShadow[0],u.setShadow[1],u.setShadow[2],u.setShadow[3]):e.setShadow(0,0,0,"rgba(0,0,0,0)"),e.setLineWidth(i.width),b.forEach(function(T,A){if(T.length===1)e.moveTo(T[0].x,T[0].y);else{e.moveTo(T[0].x,T[0].y);let _=0;if(i.type==="curve")for(let M=0;M<T.length;M++){let F=T[M];if(_==0&&F.x>f&&(e.moveTo(F.x,F.y),_=1),M>0&&F.x>f&&F.x<g){var w=oa(T,M-1);e.bezierCurveTo(w.ctrA.x,w.ctrA.y,w.ctrB.x,w.ctrB.y,F.x,F.y)}}if(i.type==="straight")for(let M=0;M<T.length;M++){let F=T[M];_==0&&F.x>f&&(e.moveTo(F.x,F.y),_=1),M>0&&F.x>f&&F.x<g&&e.lineTo(F.x,F.y)}if(i.type==="step")for(let M=0;M<T.length;M++){let F=T[M];_==0&&F.x>f&&(e.moveTo(F.x,F.y),_=1),M>0&&F.x>f&&F.x<g&&(e.lineTo(F.x,T[M-1].y),e.lineTo(F.x,F.y))}e.moveTo(T[0].x,T[0].y)}}),e.stroke(),e.setLineDash([]),a.dataPointShape!==!1&&ba(v,u.color,u.pointShape,e,a),ja(v,u.color,u.pointShape,e,a,i)}),a.dataLabel!==!1&&t===1&&l.forEach(function(u,o){let y,x,c;y=[].concat(a.chartData.yAxisData.ranges[u.index]),x=y.pop(),c=y.shift();var m=u.data,v=Q(m,x,c,d,n,a,r,t);va(v,u,r,e,a)}),e.restore(),{xAxisPoints:d,calPoints:s,eachSpacing:n}}function Ye(l,a,r,e){let t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,i=a.chartData.xAxisData,h=i.xAxisPoints,d=i.eachSpacing,n=I({},{width:d/2,barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0},a.extra.mix.column),s=I({},{opacity:.2,gradient:!1},a.extra.mix.area),f=I({},{width:2},a.extra.mix.line),g=a.height-a.area[2],u=[];var o=0,y=0;l.forEach(function(b,P){b.type=="column"&&(y+=1)}),e.save();let x=-2,c=h.length+2,m=0,v=a.width+d;if(a._scrollDistance_&&a._scrollDistance_!==0&&a.enableScroll===!0&&(e.translate(a._scrollDistance_,0),x=Math.floor(-a._scrollDistance_/d)-2,c=x+a.xAxis.itemCount+4,m=-a._scrollDistance_-d*2+a.area[3],v=m+(a.xAxis.itemCount+4)*d),n.customColor=ta(n.linearType,n.customColor,l,r),l.forEach(function(b,P){let C,S,T;C=[].concat(a.chartData.yAxisData.ranges[b.index]),S=C.pop(),T=C.shift();var A=b.data,w=Q(A,S,T,h,d,a,r,t);if(u.push(w),b.type=="column"){w=ca(w,d,y,o,r,a);for(let k=0;k<w.length;k++){let E=w[k];if(E!==null&&k>x&&k<c){var _=E.x-E.width/2;a.height-E.y-a.area[2],e.beginPath();var M=E.color||b.color,F=E.color||b.color;if(n.linearType!=="none"){var O=e.createLinearGradient(_,E.y,_,a.height-a.area[2]);n.linearType=="opacity"?(O.addColorStop(0,D(M,n.linearOpacity)),O.addColorStop(1,D(M,1))):(O.addColorStop(0,D(n.customColor[b.linearIndex],n.linearOpacity)),O.addColorStop(n.colorStop,D(n.customColor[b.linearIndex],n.linearOpacity)),O.addColorStop(1,D(M,1))),M=O}if(n.barBorderRadius&&n.barBorderRadius.length===4||n.barBorderCircle){const B=_,G=E.y,W=E.width,z=a.height-a.area[2]-E.y;n.barBorderCircle&&(n.barBorderRadius=[W/2,W/2,0,0]);let[R,V,q,U]=n.barBorderRadius,na=Math.min(W/2,z/2);R=R>na?na:R,V=V>na?na:V,q=q>na?na:q,U=U>na?na:U,R=R<0?0:R,V=V<0?0:V,q=q<0?0:q,U=U<0?0:U,e.arc(B+R,G+R,R,-Math.PI,-Math.PI/2),e.arc(B+W-V,G+V,V,-Math.PI/2,0),e.arc(B+W-q,G+z-q,q,0,Math.PI/2),e.arc(B+U,G+z-U,U,Math.PI/2,Math.PI)}else e.moveTo(_,E.y),e.lineTo(_+E.width,E.y),e.lineTo(_+E.width,a.height-a.area[2]),e.lineTo(_,a.height-a.area[2]),e.lineTo(_,E.y),e.setLineWidth(1),e.setStrokeStyle(F);e.setFillStyle(M),e.closePath(),e.fill()}}o+=1}if(b.type=="area"){let k=ga(w,b);for(let E=0;E<k.length;E++){let B=k[E];if(e.beginPath(),e.setStrokeStyle(b.color),e.setStrokeStyle(D(b.color,s.opacity)),s.gradient){let G=e.createLinearGradient(0,a.area[0],0,a.height-a.area[2]);G.addColorStop("0",D(b.color,s.opacity)),G.addColorStop("1.0",D("#FFFFFF",.1)),e.setFillStyle(G)}else e.setFillStyle(D(b.color,s.opacity));if(e.setLineWidth(2*a.pix),B.length>1){var L=B[0];let G=B[B.length-1];e.moveTo(L.x,L.y);let W=0;if(b.style==="curve")for(let z=0;z<B.length;z++){let R=B[z];if(W==0&&R.x>m&&(e.moveTo(R.x,R.y),W=1),z>0&&R.x>m&&R.x<v){var N=oa(B,z-1);e.bezierCurveTo(N.ctrA.x,N.ctrA.y,N.ctrB.x,N.ctrB.y,R.x,R.y)}}else for(let z=0;z<B.length;z++){let R=B[z];W==0&&R.x>m&&(e.moveTo(R.x,R.y),W=1),z>0&&R.x>m&&R.x<v&&e.lineTo(R.x,R.y)}e.lineTo(G.x,g),e.lineTo(L.x,g),e.lineTo(L.x,L.y)}else{let G=B[0];e.moveTo(G.x-d/2,G.y)}e.closePath(),e.fill()}}if(b.type=="line"){var X=ga(w,b);X.forEach(function(k,E){if(b.lineType=="dash"){let G=b.dashLength?b.dashLength:8;G*=a.pix,e.setLineDash([G,G])}if(e.beginPath(),e.setStrokeStyle(b.color),e.setLineWidth(f.width*a.pix),k.length===1)e.moveTo(k[0].x,k[0].y);else{e.moveTo(k[0].x,k[0].y);let G=0;if(b.style=="curve")for(let W=0;W<k.length;W++){let z=k[W];if(G==0&&z.x>m&&(e.moveTo(z.x,z.y),G=1),W>0&&z.x>m&&z.x<v){var B=oa(k,W-1);e.bezierCurveTo(B.ctrA.x,B.ctrA.y,B.ctrB.x,B.ctrB.y,z.x,z.y)}}else for(let W=0;W<k.length;W++){let z=k[W];G==0&&z.x>m&&(e.moveTo(z.x,z.y),G=1),W>0&&z.x>m&&z.x<v&&e.lineTo(z.x,z.y)}e.moveTo(k[0].x,k[0].y)}e.stroke(),e.setLineDash([])})}b.type=="point"&&(b.addPoint=!0),b.addPoint==!0&&b.type!=="column"&&ba(w,b.color,b.pointShape,e,a)}),a.dataLabel!==!1&&t===1){var o=0;l.forEach(function(P,C){let S,T,A;S=[].concat(a.chartData.yAxisData.ranges[P.index]),T=S.pop(),A=S.shift();var w=P.data,_=Q(w,T,A,h,d,a,r,t);P.type!=="column"?va(_,P,r,e,a):(_=ca(_,d,y,o,r,a),va(_,P,r,e,a),o+=1)})}return e.restore(),{xAxisPoints:h,calPoints:u,eachSpacing:d}}function p(l,a,r,e,t,i){var h=l.extra.tooltip||{};h.horizentalLine&&l.tooltip&&e===1&&(l.type=="line"||l.type=="area"||l.type=="column"||l.type=="mount"||l.type=="candle"||l.type=="mix")&&Re(l,a,r),r.save(),l._scrollDistance_&&l._scrollDistance_!==0&&l.enableScroll===!0&&r.translate(l._scrollDistance_,0),l.tooltip&&l.tooltip.textList&&l.tooltip.textList.length&&e===1&&Ee(l.tooltip.textList,l.tooltip.offset,l,a,r),r.restore()}function ea(l,a,r,e){let t=a.chartData.xAxisData,i=t.xAxisPoints,h=t.startX,d=t.endX,n=t.eachSpacing;var s="center";(a.type=="bar"||a.type=="line"||a.type=="area"||a.type=="scatter"||a.type=="bubble")&&(s=a.xAxis.boundaryGap);var f=a.height-a.area[2],g=a.area[0];if(a.enableScroll&&a.xAxis.scrollShow){var u=a.height-a.area[2]+r.xAxisHeight,o=d-h,y=n*(i.length-1);a.type=="mount"&&a.extra&&a.extra.mount&&a.extra.mount.widthRatio&&a.extra.mount.widthRatio>1&&(a.extra.mount.widthRatio>2&&(a.extra.mount.widthRatio=2),y+=(a.extra.mount.widthRatio-1)*n);var x=o*o/y,c=0;a._scrollDistance_&&(c=-a._scrollDistance_*o/y),e.beginPath(),e.setLineCap("round"),e.setLineWidth(6*a.pix),e.setStrokeStyle(a.xAxis.scrollBackgroundColor||"#EFEBEF"),e.moveTo(h,u),e.lineTo(d,u),e.stroke(),e.closePath(),e.beginPath(),e.setLineCap("round"),e.setLineWidth(6*a.pix),e.setStrokeStyle(a.xAxis.scrollColor||"#A6A6A6"),e.moveTo(h+c,u),e.lineTo(h+c+x,u),e.stroke(),e.closePath(),e.setLineCap("butt")}if(e.save(),a._scrollDistance_&&a._scrollDistance_!==0&&e.translate(a._scrollDistance_,0),a.xAxis.calibration===!0&&(e.setStrokeStyle(a.xAxis.gridColor||"#cccccc"),e.setLineCap("butt"),e.setLineWidth(1*a.pix),i.forEach(function(v,b){b>0&&(e.beginPath(),e.moveTo(v-n/2,f),e.lineTo(v-n/2,f+3*a.pix),e.closePath(),e.stroke())})),a.xAxis.disableGrid!==!0&&(e.setStrokeStyle(a.xAxis.gridColor||"#cccccc"),e.setLineCap("butt"),e.setLineWidth(1*a.pix),a.xAxis.gridType=="dash"&&e.setLineDash([a.xAxis.dashLength*a.pix,a.xAxis.dashLength*a.pix]),a.xAxis.gridEval=a.xAxis.gridEval||1,i.forEach(function(v,b){b%a.xAxis.gridEval==0&&(e.beginPath(),e.moveTo(v,f),e.lineTo(v,g),e.stroke())}),e.setLineDash([])),a.xAxis.disabled!==!0){let v=l.length;a.xAxis.labelCount&&(a.xAxis.itemCount?v=Math.ceil(l.length/a.xAxis.itemCount*a.xAxis.labelCount):v=a.xAxis.labelCount,v-=1);let b=Math.ceil(l.length/v),P=[],C=l.length;for(let S=0;S<C;S++)S%b!==0?P.push(""):P.push(l[S]);P[C-1]=l[C-1];var m=a.xAxis.fontSize*a.pix||r.fontSize;r._xAxisTextAngle_===0?P.forEach(function(S,T){var A=a.xAxis.formatter?a.xAxis.formatter(S,T,a):S,w=-H(String(A),m,e)/2;s=="center"&&(w+=n/2),a.xAxis.scrollShow&&6*a.pix;var _=a._scrollDistance_||0,M=s=="center"?i[T]+n/2:i[T];M-Math.abs(_)>=a.area[3]-1&&M-Math.abs(_)<=a.width-a.area[1]+1&&(e.beginPath(),e.setFontSize(m),e.setFillStyle(a.xAxis.fontColor||a.fontColor),e.fillText(String(A),i[T]+w,f+a.xAxis.marginTop*a.pix+(a.xAxis.lineHeight-a.xAxis.fontSize)*a.pix/2+a.xAxis.fontSize*a.pix),e.closePath(),e.stroke())}):P.forEach(function(S,T){var A=a.xAxis.formatter?a.xAxis.formatter(S):S,w=a._scrollDistance_||0,_=s=="center"?i[T]+n/2:i[T];if(_-Math.abs(w)>=a.area[3]-1&&_-Math.abs(w)<=a.width-a.area[1]+1){e.save(),e.beginPath(),e.setFontSize(m),e.setFillStyle(a.xAxis.fontColor||a.fontColor);var M=H(String(A),m,e),F=i[T];s=="center"&&(F=i[T]+n/2),a.xAxis.scrollShow&&6*a.pix;var O=f+a.xAxis.marginTop*a.pix+m-m*Math.abs(Math.sin(r._xAxisTextAngle_));a.xAxis.rotateAngle<0?(F-=m/2,M=0):(F+=m/2,M=-M),e.translate(F,O),e.rotate(-1*r._xAxisTextAngle_),e.fillText(String(A),M,0),e.closePath(),e.stroke(),e.restore()}})}e.restore(),a.xAxis.title&&(e.beginPath(),e.setFontSize(a.xAxis.titleFontSize*a.pix),e.setFillStyle(a.xAxis.titleFontColor),e.fillText(String(a.xAxis.title),a.width-a.area[1]+a.xAxis.titleOffsetX*a.pix,a.height-a.area[2]+a.xAxis.marginTop*a.pix+(a.xAxis.lineHeight-a.xAxis.titleFontSize)*a.pix/2+(a.xAxis.titleFontSize+a.xAxis.titleOffsetY)*a.pix),e.closePath(),e.stroke()),a.xAxis.axisLine&&(e.beginPath(),e.setStrokeStyle(a.xAxis.axisLineColor),e.setLineWidth(1*a.pix),e.moveTo(h,a.height-a.area[2]),e.lineTo(d,a.height-a.area[2]),e.stroke())}function ha(l,a,r,e){if(a.yAxis.disableGrid===!0)return;let i=(a.height-a.area[0]-a.area[2])/a.yAxis.splitNumber,h=a.area[3],d=a.chartData.xAxisData.xAxisPoints,n=a.chartData.xAxisData.eachSpacing,s=n*(d.length-1);a.type=="mount"&&a.extra&&a.extra.mount&&a.extra.mount.widthRatio&&a.extra.mount.widthRatio>1&&(a.extra.mount.widthRatio>2&&(a.extra.mount.widthRatio=2),s+=(a.extra.mount.widthRatio-1)*n);let f=h+s,g=[],u=1;a.xAxis.axisLine===!1&&(u=0);for(let o=u;o<a.yAxis.splitNumber+1;o++)g.push(a.height-a.area[2]-i*o);e.save(),a._scrollDistance_&&a._scrollDistance_!==0&&e.translate(a._scrollDistance_,0),a.yAxis.gridType=="dash"&&e.setLineDash([a.yAxis.dashLength*a.pix,a.yAxis.dashLength*a.pix]),e.setStrokeStyle(a.yAxis.gridColor),e.setLineWidth(1*a.pix),g.forEach(function(o,y){e.beginPath(),e.moveTo(h,o),e.lineTo(f,o),e.stroke()}),e.setLineDash([]),e.restore()}function ia(l,a,r,e){if(a.yAxis.disabled===!0)return;var t=a.height-a.area[0]-a.area[2],i=t/a.yAxis.splitNumber,h=a.area[3],d=a.width-a.area[1],n=a.height-a.area[2];e.beginPath(),e.setFillStyle(a.background),a.enableScroll==!0&&a.xAxis.scrollPosition&&a.xAxis.scrollPosition!=="left"&&e.fillRect(0,0,h,n+2*a.pix),a.enableScroll==!0&&a.xAxis.scrollPosition&&a.xAxis.scrollPosition!=="right"&&e.fillRect(d,0,a.width,n+2*a.pix),e.closePath(),e.stroke();let s=a.area[3],f=a.width-a.area[1],g=a.area[3]+(a.width-a.area[1]-a.area[3])/2;if(a.yAxis.data)for(let o=0;o<a.yAxis.data.length;o++){let y=a.yAxis.data[o];var u=[];if(y.type==="categories")for(let x=0;x<=y.categories.length;x++)u.push(a.area[0]+t/y.categories.length/2+t/y.categories.length*x);else for(let x=0;x<=a.yAxis.splitNumber;x++)u.push(a.area[0]+i*x);if(y.disabled!==!0){let x=a.chartData.yAxisData.rangesFormat[o],c=y.fontSize?y.fontSize*a.pix:r.fontSize,m=a.chartData.yAxisData.yAxisWidth[o],v=y.textAlign||"right";if(x.forEach(function(b,P){var C=u[P];e.beginPath(),e.setFontSize(c),e.setLineWidth(1*a.pix),e.setStrokeStyle(y.axisLineColor||"#cccccc"),e.setFillStyle(y.fontColor||a.fontColor);let S=0,T=4*a.pix;if(m.position=="left"){switch(y.calibration==!0&&(e.moveTo(s,C),e.lineTo(s-3*a.pix,C),T+=3*a.pix),v){case"left":e.setTextAlign("left"),S=s-m.width;break;case"right":e.setTextAlign("right"),S=s-T;break;default:e.setTextAlign("center"),S=s-m.width/2}e.fillText(String(b),S,C+c/2-3*a.pix)}else if(m.position=="right"){switch(y.calibration==!0&&(e.moveTo(f,C),e.lineTo(f+3*a.pix,C),T+=3*a.pix),v){case"left":e.setTextAlign("left"),S=f+T;break;case"right":e.setTextAlign("right"),S=f+m.width;break;default:e.setTextAlign("center"),S=f+m.width/2}e.fillText(String(b),S,C+c/2-3*a.pix)}else if(m.position=="center"){switch(y.calibration==!0&&(e.moveTo(g,C),e.lineTo(g-3*a.pix,C),T+=3*a.pix),v){case"left":e.setTextAlign("left"),S=g-m.width;break;case"right":e.setTextAlign("right"),S=g-T;break;default:e.setTextAlign("center"),S=g-m.width/2}e.fillText(String(b),S,C+c/2-3*a.pix)}e.closePath(),e.stroke(),e.setTextAlign("left")}),y.axisLine!==!1&&(e.beginPath(),e.setStrokeStyle(y.axisLineColor||"#cccccc"),e.setLineWidth(1*a.pix),m.position=="left"?(e.moveTo(s,a.height-a.area[2]),e.lineTo(s,a.area[0])):m.position=="right"?(e.moveTo(f,a.height-a.area[2]),e.lineTo(f,a.area[0])):m.position=="center"&&(e.moveTo(g,a.height-a.area[2]),e.lineTo(g,a.area[0])),e.stroke()),a.yAxis.showTitle){let b=y.titleFontSize*a.pix||r.fontSize,P=y.title;e.beginPath(),e.setFontSize(b),e.setFillStyle(y.titleFontColor||a.fontColor),m.position=="left"?e.fillText(P,s-H(P,b,e)/2+(y.titleOffsetX||0),a.area[0]-(10-(y.titleOffsetY||0))*a.pix):m.position=="right"?e.fillText(P,f-H(P,b,e)/2+(y.titleOffsetX||0),a.area[0]-(10-(y.titleOffsetY||0))*a.pix):m.position=="center"&&e.fillText(P,g-H(P,b,e)/2+(y.titleOffsetX||0),a.area[0]-(10-(y.titleOffsetY||0))*a.pix),e.closePath(),e.stroke()}m.position=="left"?s-=m.width+a.yAxis.padding*a.pix:f+=m.width+a.yAxis.padding*a.pix}}}function Z(l,a,r,e,t){if(a.legend.show===!1)return;let i=t.legendData,h=i.points,d=i.area,n=a.legend.padding*a.pix,s=a.legend.fontSize*a.pix,f=15*a.pix,g=5*a.pix,u=a.legend.itemGap*a.pix,o=Math.max(a.legend.lineHeight*a.pix,s);e.beginPath(),e.setLineWidth(a.legend.borderWidth*a.pix),e.setStrokeStyle(a.legend.borderColor),e.setFillStyle(a.legend.backgroundColor),e.moveTo(d.start.x,d.start.y),e.rect(d.start.x,d.start.y,d.width,d.height),e.closePath(),e.fill(),e.stroke(),h.forEach(function(y,x){let c=0,m=0;c=i.widthArr[x],m=i.heightArr[x];let v=0,b=0;if(a.legend.position=="top"||a.legend.position=="bottom"){switch(a.legend.float){case"left":v=d.start.x+n;break;case"right":v=d.start.x+d.width-c;break;default:v=d.start.x+(d.width-c)/2}b=d.start.y+n+x*o}else x==0?c=0:c=i.widthArr[x-1],v=d.start.x+n+c,b=d.start.y+n+(d.height-m)/2;e.setFontSize(r.fontSize);for(let P=0;P<y.length;P++){let C=y[P];switch(C.area=[0,0,0,0],C.area[0]=v,C.area[1]=b,C.area[3]=b+o,e.beginPath(),e.setLineWidth(1*a.pix),e.setStrokeStyle(C.show?C.color:a.legend.hiddenColor),e.setFillStyle(C.show?C.color:a.legend.hiddenColor),C.legendShape){case"line":e.moveTo(v,b+.5*o-2*a.pix),e.fillRect(v,b+.5*o-2*a.pix,15*a.pix,4*a.pix);break;case"triangle":e.moveTo(v+7.5*a.pix,b+.5*o-5*a.pix),e.lineTo(v+2.5*a.pix,b+.5*o+5*a.pix),e.lineTo(v+12.5*a.pix,b+.5*o+5*a.pix),e.lineTo(v+7.5*a.pix,b+.5*o-5*a.pix);break;case"diamond":e.moveTo(v+7.5*a.pix,b+.5*o-5*a.pix),e.lineTo(v+2.5*a.pix,b+.5*o),e.lineTo(v+7.5*a.pix,b+.5*o+5*a.pix),e.lineTo(v+12.5*a.pix,b+.5*o),e.lineTo(v+7.5*a.pix,b+.5*o-5*a.pix);break;case"circle":e.moveTo(v+7.5*a.pix,b+.5*o),e.arc(v+7.5*a.pix,b+.5*o,5*a.pix,0,2*Math.PI);break;case"rect":e.moveTo(v,b+.5*o-5*a.pix),e.fillRect(v,b+.5*o-5*a.pix,15*a.pix,10*a.pix);break;case"square":e.moveTo(v+5*a.pix,b+.5*o-5*a.pix),e.fillRect(v+5*a.pix,b+.5*o-5*a.pix,10*a.pix,10*a.pix);break;case"none":break;default:e.moveTo(v,b+.5*o-5*a.pix),e.fillRect(v,b+.5*o-5*a.pix,15*a.pix,10*a.pix)}e.closePath(),e.fill(),e.stroke(),v+=f+g;let S=.5*o+.5*s-2;const T=C.legendText?C.legendText:C.name;e.beginPath(),e.setFontSize(s),e.setFillStyle(C.show?a.legend.fontColor:a.legend.hiddenColor),e.fillText(T,v,b+S),e.closePath(),e.stroke(),a.legend.position=="top"||a.legend.position=="bottom"?(v+=H(T,s,e)+u,C.area[2]=v):(C.area[2]=v+H(T,s,e)+u,v-=f+g,b+=o)}})}function Ha(l,a,r,e){var t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,i=I({},{activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,ringWidth:30,customRadius:0,border:!1,borderWidth:2,borderColor:"#FFFFFF",centerColor:"#FFFFFF",linearType:"none",customColor:[]},a.type=="pie"?a.extra.pie:a.extra.ring),h={x:a.area[3]+(a.width-a.area[1]-a.area[3])/2,y:a.area[0]+(a.height-a.area[0]-a.area[2])/2};r.pieChartLinePadding==0&&(r.pieChartLinePadding=i.activeRadius*a.pix);var d=Math.min((a.width-a.area[1]-a.area[3])/2-r.pieChartLinePadding-r.pieChartTextPadding-r._pieTextMaxLength_,(a.height-a.area[0]-a.area[2])/2-r.pieChartLinePadding-r.pieChartTextPadding);d=d<10?10:d,i.customRadius>0&&(d=i.customRadius*a.pix),l=Fa(l,d,t);var n=i.activeRadius*a.pix;if(i.customColor=ta(i.linearType,i.customColor,l,r),l=l.map(function(f){return f._start_+=i.offsetAngle*Math.PI/180,f}),l.forEach(function(f,g){a.tooltip&&a.tooltip.index==g&&(e.beginPath(),e.setFillStyle(D(f.color,i.activeOpacity||.5)),e.moveTo(h.x,h.y),e.arc(h.x,h.y,f._radius_+n,f._start_,f._start_+2*f._proportion_*Math.PI),e.closePath(),e.fill()),e.beginPath(),e.setLineWidth(i.borderWidth*a.pix),e.lineJoin="round",e.setStrokeStyle(i.borderColor);var u=f.color;if(i.linearType=="custom"){var o;e.createCircularGradient?o=e.createCircularGradient(h.x,h.y,f._radius_):o=e.createRadialGradient(h.x,h.y,0,h.x,h.y,f._radius_),o.addColorStop(0,D(i.customColor[f.linearIndex],1)),o.addColorStop(1,D(f.color,1)),u=o}e.setFillStyle(u),e.moveTo(h.x,h.y),e.arc(h.x,h.y,f._radius_,f._start_,f._start_+2*f._proportion_*Math.PI),e.closePath(),e.fill(),i.border==!0&&e.stroke()}),a.type==="ring"){var s=d*.6;typeof i.ringWidth=="number"&&i.ringWidth>0&&(s=Math.max(0,d-i.ringWidth*a.pix)),e.beginPath(),e.setFillStyle(i.centerColor),e.moveTo(h.x,h.y),e.arc(h.x,h.y,s,0,2*Math.PI),e.closePath(),e.fill()}return a.dataLabel!==!1&&t===1&&Ja(l,a,r,e,d,h),t===1&&a.type==="ring"&&_a(a,r,e,h),{center:h,radius:d,series:l}}function je(l,a,r,e){var t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,i=I({},{type:"area",activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,border:!1,borderWidth:2,borderColor:"#FFFFFF",linearType:"none",customColor:[]},a.extra.rose);r.pieChartLinePadding==0&&(r.pieChartLinePadding=i.activeRadius*a.pix);var h={x:a.area[3]+(a.width-a.area[1]-a.area[3])/2,y:a.area[0]+(a.height-a.area[0]-a.area[2])/2},d=Math.min((a.width-a.area[1]-a.area[3])/2-r.pieChartLinePadding-r.pieChartTextPadding-r._pieTextMaxLength_,(a.height-a.area[0]-a.area[2])/2-r.pieChartLinePadding-r.pieChartTextPadding);d=d<10?10:d;var n=i.minRadius||d*.5;d<n&&(d=n+10),l=Ya(l,i.type,n,d,t);var s=i.activeRadius*a.pix;return i.customColor=ta(i.linearType,i.customColor,l,r),l=l.map(function(f){return f._start_+=(i.offsetAngle||0)*Math.PI/180,f}),l.forEach(function(f,g){a.tooltip&&a.tooltip.index==g&&(e.beginPath(),e.setFillStyle(D(f.color,i.activeOpacity||.5)),e.moveTo(h.x,h.y),e.arc(h.x,h.y,s+f._radius_,f._start_,f._start_+2*f._rose_proportion_*Math.PI),e.closePath(),e.fill()),e.beginPath(),e.setLineWidth(i.borderWidth*a.pix),e.lineJoin="round",e.setStrokeStyle(i.borderColor);var u=f.color;if(i.linearType=="custom"){var o;e.createCircularGradient?o=e.createCircularGradient(h.x,h.y,f._radius_):o=e.createRadialGradient(h.x,h.y,0,h.x,h.y,f._radius_),o.addColorStop(0,D(i.customColor[f.linearIndex],1)),o.addColorStop(1,D(f.color,1)),u=o}e.setFillStyle(u),e.moveTo(h.x,h.y),e.arc(h.x,h.y,f._radius_,f._start_,f._start_+2*f._rose_proportion_*Math.PI),e.closePath(),e.fill(),i.border==!0&&e.stroke()}),a.dataLabel!==!1&&t===1&&Ja(l,a,r,e,d,h),{center:h,radius:d,series:l}}function Je(l,a,r,e){var t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,i=I({},{startAngle:.75,endAngle:.25,type:"default",direction:"cw",lineCap:"round",width:12,gap:2,linearType:"none",customColor:[]},a.extra.arcbar);l=me(l,i,t);var h;i.centerX||i.centerY?h={x:i.centerX?i.centerX:a.width/2,y:i.centerY?i.centerY:a.height/2}:h={x:a.width/2,y:a.height/2};var d;i.radius?d=i.radius:(d=Math.min(h.x,h.y),d-=5*a.pix,d-=i.width/2),d=d<10?10:d,i.customColor=ta(i.linearType,i.customColor,l,r);for(let f=0;f<l.length;f++){let g=l[f];e.setLineWidth(i.width*a.pix),e.setStrokeStyle(i.backgroundColor||"#E9E9E9"),e.setLineCap(i.lineCap),e.beginPath(),i.type=="default"?e.arc(h.x,h.y,d-(i.width*a.pix+i.gap*a.pix)*f,i.startAngle*Math.PI,i.endAngle*Math.PI,i.direction=="ccw"):e.arc(h.x,h.y,d-(i.width*a.pix+i.gap*a.pix)*f,0,2*Math.PI,i.direction=="ccw"),e.stroke();var n=g.color;if(i.linearType=="custom"){var s=e.createLinearGradient(h.x-d,h.y,h.x+d,h.y);s.addColorStop(1,D(i.customColor[g.linearIndex],1)),s.addColorStop(0,D(g.color,1)),n=s}e.setLineWidth(i.width*a.pix),e.setStrokeStyle(n),e.setLineCap(i.lineCap),e.beginPath(),e.arc(h.x,h.y,d-(i.width*a.pix+i.gap*a.pix)*f,i.startAngle*Math.PI,g._proportion_*Math.PI,i.direction=="ccw"),e.stroke()}return _a(a,r,e,h),{center:h,radius:d,series:l}}function Ze(l,a,r,e,t){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1,h=I({},{type:"default",startAngle:.75,endAngle:.25,width:15,labelOffset:13,splitLine:{fixRadius:0,splitNumber:10,width:15,color:"#FFFFFF",childNumber:5,childWidth:5},pointer:{width:15,color:"auto"}},r.extra.gauge);h.oldAngle==null&&(h.oldAngle=h.startAngle),h.oldData==null&&(h.oldData=0),l=Ae(l,h.startAngle,h.endAngle);var d={x:r.width/2,y:r.height/2},n=Math.min(d.x,d.y);n-=5*r.pix,n-=h.width/2,n=n<10?10:n;var s=n-h.width,f=0;if(h.type=="progress"){var g=n-h.width*3;t.beginPath();let u=t.createLinearGradient(d.x,d.y-g,d.x,d.y+g);u.addColorStop("0",D(a[0].color,.3)),u.addColorStop("1.0",D("#FFFFFF",.1)),t.setFillStyle(u),t.arc(d.x,d.y,g,0,2*Math.PI,!1),t.fill(),t.setLineWidth(h.width),t.setStrokeStyle(D(a[0].color,.3)),t.setLineCap("round"),t.beginPath(),t.arc(d.x,d.y,s,h.startAngle*Math.PI,h.endAngle*Math.PI,!1),t.stroke(),h.endAngle<h.startAngle?f=2+h.endAngle-h.startAngle:f=h.startAngle-h.endAngle,f/h.splitLine.splitNumber;let o=f/h.splitLine.splitNumber/h.splitLine.childNumber,y=-n-h.width*.5-h.splitLine.fixRadius,x=-n-h.width-h.splitLine.fixRadius+h.splitLine.width;t.save(),t.translate(d.x,d.y),t.rotate((h.startAngle-1)*Math.PI);let c=h.splitLine.splitNumber*h.splitLine.childNumber+1,m=a[0].data*i;for(let P=0;P<c;P++)t.beginPath(),m>P/c?t.setStrokeStyle(D(a[0].color,1)):t.setStrokeStyle(D(a[0].color,.3)),t.setLineWidth(3*r.pix),t.moveTo(y,0),t.lineTo(x,0),t.stroke(),t.rotate(o*Math.PI);t.restore(),a=be(a,h,i),t.setLineWidth(h.width),t.setStrokeStyle(a[0].color),t.setLineCap("round"),t.beginPath(),t.arc(d.x,d.y,s,h.startAngle*Math.PI,a[0]._proportion_*Math.PI,!1),t.stroke();let v=n-h.width*2.5;t.save(),t.translate(d.x,d.y),t.rotate((a[0]._proportion_-1)*Math.PI),t.beginPath(),t.setLineWidth(h.width/3);let b=t.createLinearGradient(0,-v*.6,0,v*.6);b.addColorStop("0",D("#FFFFFF",0)),b.addColorStop("0.5",D(a[0].color,1)),b.addColorStop("1.0",D("#FFFFFF",0)),t.setStrokeStyle(b),t.arc(0,0,v,.85*Math.PI,1.15*Math.PI,!1),t.stroke(),t.beginPath(),t.setLineWidth(1),t.setStrokeStyle(a[0].color),t.setFillStyle(a[0].color),t.moveTo(-v-h.width/3/2,-4),t.lineTo(-v-h.width/3/2-4,0),t.lineTo(-v-h.width/3/2,4),t.lineTo(-v-h.width/3/2,-4),t.stroke(),t.fill(),t.restore()}else{t.setLineWidth(h.width),t.setLineCap("butt");for(let m=0;m<l.length;m++){let v=l[m];t.beginPath(),t.setStrokeStyle(v.color),t.arc(d.x,d.y,n,v._startAngle_*Math.PI,v._endAngle_*Math.PI,!1),t.stroke()}t.save(),h.endAngle<h.startAngle?f=2+h.endAngle-h.startAngle:f=h.startAngle-h.endAngle;let u=f/h.splitLine.splitNumber,o=f/h.splitLine.splitNumber/h.splitLine.childNumber,y=-n-h.width*.5-h.splitLine.fixRadius,x=-n-h.width*.5-h.splitLine.fixRadius+h.splitLine.width,c=-n-h.width*.5-h.splitLine.fixRadius+h.splitLine.childWidth;t.translate(d.x,d.y),t.rotate((h.startAngle-1)*Math.PI);for(let m=0;m<h.splitLine.splitNumber+1;m++)t.beginPath(),t.setStrokeStyle(h.splitLine.color),t.setLineWidth(2*r.pix),t.moveTo(y,0),t.lineTo(x,0),t.stroke(),t.rotate(u*Math.PI);t.restore(),t.save(),t.translate(d.x,d.y),t.rotate((h.startAngle-1)*Math.PI);for(let m=0;m<h.splitLine.splitNumber*h.splitLine.childNumber+1;m++)t.beginPath(),t.setStrokeStyle(h.splitLine.color),t.setLineWidth(1*r.pix),t.moveTo(y,0),t.lineTo(c,0),t.stroke(),t.rotate(o*Math.PI);t.restore(),a=Se(a,l,h,i);for(let m=0;m<a.length;m++){let v=a[m];t.save(),t.translate(d.x,d.y),t.rotate((v._proportion_-1)*Math.PI),t.beginPath(),t.setFillStyle(v.color),t.moveTo(h.pointer.width,0),t.lineTo(0,-h.pointer.width/2),t.lineTo(-s,0),t.lineTo(0,h.pointer.width/2),t.lineTo(h.pointer.width,0),t.closePath(),t.fill(),t.beginPath(),t.setFillStyle("#FFFFFF"),t.arc(0,0,h.pointer.width/6,0,2*Math.PI,!1),t.fill(),t.restore()}r.dataLabel!==!1&&ke(h,n,d,r,e,t)}return _a(r,e,t,d),i===1&&r.type==="gauge"&&(r.extra.gauge.oldAngle=a[0]._proportion_,r.extra.gauge.oldData=a[0].data),{center:d,radius:n,innerRadius:s,categories:l,totalAngle:f}}function pe(l,a,r,e){var t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,i=I({},{gridColor:"#cccccc",gridType:"radar",gridEval:1,axisLabel:!1,axisLabelTofix:0,labelShow:!0,labelColor:"#666666",labelPointShow:!1,labelPointRadius:3,labelPointColor:"#cccccc",opacity:.2,gridCount:3,border:!1,borderWidth:2,linearType:"none",customColor:[]},a.extra.radar),h=ae(a.categories.length),d={x:a.area[3]+(a.width-a.area[1]-a.area[3])/2,y:a.area[0]+(a.height-a.area[0]-a.area[2])/2},n=(a.width-a.area[1]-a.area[3])/2,s=(a.height-a.area[0]-a.area[2])/2,f=Math.min(n-(Ua(a.categories,r.fontSize,e)+r.radarLabelTextMargin),s-r.radarLabelTextMargin);f-=r.radarLabelTextMargin*a.pix,f=f<10?10:f,f=i.radius?i.radius:f,e.beginPath(),e.setLineWidth(1*a.pix),e.setStrokeStyle(i.gridColor),h.forEach(function(y,x){var c=ra(f*Math.cos(y),f*Math.sin(y),d);e.moveTo(d.x,d.y),x%i.gridEval==0&&e.lineTo(c.x,c.y)}),e.stroke(),e.closePath();for(var g=function(x){var c={};if(e.beginPath(),e.setLineWidth(1*a.pix),e.setStrokeStyle(i.gridColor),i.gridType=="radar")h.forEach(function(v,b){var P=ra(f/i.gridCount*x*Math.cos(v),f/i.gridCount*x*Math.sin(v),d);b===0?(c=P,e.moveTo(P.x,P.y)):e.lineTo(P.x,P.y)}),e.lineTo(c.x,c.y);else{var m=ra(f/i.gridCount*x*Math.cos(1.5),f/i.gridCount*x*Math.sin(1.5),d);e.arc(d.x,d.y,d.y-m.y,0,2*Math.PI,!1)}e.stroke(),e.closePath()},u=1;u<=i.gridCount;u++)g(u);i.customColor=ta(i.linearType,i.customColor,l,r);var o=xe(h,d,f,l,a,t);if(o.forEach(function(y,x){e.beginPath(),e.setLineWidth(i.borderWidth*a.pix),e.setStrokeStyle(y.color);var c=D(y.color,i.opacity);if(i.linearType=="custom"){var m;e.createCircularGradient?m=e.createCircularGradient(d.x,d.y,f):m=e.createRadialGradient(d.x,d.y,0,d.x,d.y,f),m.addColorStop(0,D(i.customColor[l[x].linearIndex],i.opacity)),m.addColorStop(1,D(y.color,i.opacity)),c=m}if(e.setFillStyle(c),y.data.forEach(function(b,P){P===0?e.moveTo(b.position.x,b.position.y):e.lineTo(b.position.x,b.position.y)}),e.closePath(),e.fill(),i.border===!0&&e.stroke(),e.closePath(),a.dataPointShape!==!1){var v=y.data.map(function(b){return b.position});ba(v,y.color,y.pointShape,e,a)}}),i.axisLabel===!0){const y=Math.max(i.max,Math.max.apply(null,ma(l))),x=f/i.gridCount,c=a.fontSize*a.pix;e.setFontSize(c),e.setFillStyle(a.fontColor),e.setTextAlign("left");for(var u=0;u<i.gridCount+1;u++){let v=u*y/i.gridCount;v=v.toFixed(i.axisLabelTofix),e.fillText(String(v),d.x+3*a.pix,d.y-u*x+c/2)}}return Ie(h,f,d,a,r,e),a.dataLabel!==!1&&t===1&&(o.forEach(function(y,x){e.beginPath();var c=y.textSize*a.pix||r.fontSize;e.setFontSize(c),e.setFillStyle(y.textColor||a.fontColor),y.data.forEach(function(m,v){Math.abs(m.position.x-d.x)<2?m.position.y<d.y?(e.setTextAlign("center"),e.fillText(m.value,m.position.x,m.position.y-4)):(e.setTextAlign("center"),e.fillText(m.value,m.position.x,m.position.y+c+2)):m.position.x<d.x?(e.setTextAlign("right"),e.fillText(m.value,m.position.x-4,m.position.y+c/2-2)):(e.setTextAlign("left"),e.fillText(m.value,m.position.x+4,m.position.y+c/2-2))}),e.closePath(),e.stroke()}),e.setTextAlign("left")),{center:d,radius:f,angleList:h}}function ua(l,a){var r=Array(2),e=l*2003750834e-2/180,t=Math.log(Math.tan((90+a)*Math.PI/360))/(Math.PI/180);return t=t*2003750834e-2/180,r[0]=e,r[1]=t,r}function Ke(l){var a={},r;a.xMin=180,a.xMax=0,a.yMin=90,a.yMax=0;for(var e=0;e<l.length;e++)for(var t=l[e].geometry.coordinates,i=0;i<t.length;i++){r=t[i],r.length==1&&(r=r[0]);for(var h=0;h<r.length;h++){var d=r[h][0],n=r[h][1],s={x:d,y:n};a.xMin=a.xMin<s.x?a.xMin:s.x,a.xMax=a.xMax>s.x?a.xMax:s.x,a.yMin=a.yMin<s.y?a.yMin:s.y,a.yMax=a.yMax>s.y?a.yMax:s.y}}return a}function Na(l,a,r,e,t,i){return{x:(a-r.xMin)*e+t,y:(r.yMax-l)*e+i}}function Qe(l,a,r,e,t,i){return{x:(a-t)/e+r.xMin,y:r.yMax-(l-i)/e}}function Ue(l,a,r){return!(a[1]==r[1]||a[1]>l[1]&&r[1]>l[1]||a[1]<l[1]&&r[1]<l[1]||a[1]==l[1]&&r[1]>l[1]||r[1]==l[1]&&a[1]>l[1]||a[0]<l[0]&&r[1]<l[1]||r[0]-(r[0]-a[0])*(r[1]-l[1])/(r[1]-a[1])<l[0])}function ai(l,a,r){let e=0;for(let t=0;t<a.length;t++){let i=a[t][0];a.length==1&&(i=a[t][0]);for(let h=0;h<i.length-1;h++){let d=i[h],n=i[h+1];r&&(d=ua(i[h][0],i[h][1]),n=ua(i[h+1][0],i[h+1][1])),Ue(l,d,n)&&(e+=1)}}return e%2==1}function ei(l,a,r,e){var t=I({},{border:!0,mercator:!1,borderWidth:1,active:!0,borderColor:"#666666",fillOpacity:.6,activeBorderColor:"#f04864",activeFillColor:"#facc14",activeFillOpacity:1},a.extra.map),i,h,d=l,n=Ke(d);if(t.mercator){var s=ua(n.xMax,n.yMax),f=ua(n.xMin,n.yMin);n.xMax=s[0],n.yMax=s[1],n.xMin=f[0],n.yMin=f[1]}for(var g=a.width/Math.abs(n.xMax-n.xMin),u=a.height/Math.abs(n.yMax-n.yMin),o=g<u?g:u,y=a.width/2-Math.abs(n.xMax-n.xMin)/2*o,x=a.height/2-Math.abs(n.yMax-n.yMin)/2*o,c=0;c<d.length;c++){e.beginPath(),e.setLineWidth(t.borderWidth*a.pix),e.setStrokeStyle(t.borderColor),e.setFillStyle(D(l[c].color,l[c].fillOpacity||t.fillOpacity)),t.active==!0&&a.tooltip&&a.tooltip.index==c&&(e.setStrokeStyle(t.activeBorderColor),e.setFillStyle(D(t.activeFillColor,t.activeFillOpacity)));for(var m=d[c].geometry.coordinates,v=0;v<m.length;v++){i=m[v],i.length==1&&(i=i[0]);for(var b=0;b<i.length;b++){var P=Array(2);t.mercator?P=ua(i[b][0],i[b][1]):P=i[b],h=Na(P[1],P[0],n,o,y,x),b===0?(e.beginPath(),e.moveTo(h.x,h.y)):e.lineTo(h.x,h.y)}e.fill(),t.border==!0&&e.stroke()}}if(a.dataLabel==!0)for(var c=0;c<d.length;c++){var C=d[c].properties.centroid;if(C){t.mercator&&(C=ua(d[c].properties.centroid[0],d[c].properties.centroid[1])),h=Na(C[1],C[0],n,o,y,x);let T=d[c].textSize*a.pix||r.fontSize,A=d[c].textColor||a.fontColor;t.active&&t.activeTextColor&&a.tooltip&&a.tooltip.index==c&&(A=t.activeTextColor);let w=d[c].properties.name;e.beginPath(),e.setFontSize(T),e.setFillStyle(A),e.fillText(w,h.x-H(w,T,e)/2,h.y+T/2),e.closePath(),e.stroke()}}a.chartData.mapData={bounds:n,scale:o,xoffset:y,yoffset:x,mercator:t.mercator},p(a,r,e,1),e.draw()}function fa(l,a,r){r=r==0?1:r;for(var e=[],t=0;t<r;t++)e[t]=Math.random();return Math.floor(e.reduce(function(i,h){return i+h})/r*(a-l))+l}function Ca(l,a,r,e){var t=!1;for(let i=0;i<a.length;i++)if(a[i].area)if(l[3]<a[i].area[1]||l[0]>a[i].area[2]||l[1]>a[i].area[3]||l[2]<a[i].area[0])if(l[0]<0||l[1]<0||l[2]>r||l[3]>e){t=!0;break}else t=!1;else{t=!0;break}return t}function ii(l,a,r){let e=l.series;switch(a){case"normal":for(let i=0;i<e.length;i++){let h=e[i].name,d=e[i].textSize*l.pix,n=H(h,d,r),s,f,g,u=0;for(;u++,s=fa(-l.width/2,l.width/2,5)-n/2,f=fa(-l.height/2,l.height/2,5)+d/2,g=[s-5+l.width/2,f-5-d+l.height/2,s+n+5+l.width/2,f+5+l.height/2],!!Ca(g,e,l.width,l.height);)if(u==1e3){g=[-100,-100,-100,-100];break}e[i].area=g}break;case"vertical":let t=function(){return Math.random()>.7};for(let i=0;i<e.length;i++){let h=e[i].name,d=e[i].textSize*l.pix,n=H(h,d,r),s=t(),f,g,u,o,y=0;for(;;){y++;let x;if(s?(f=fa(-l.width/2,l.width/2,5)-n/2,g=fa(-l.height/2,l.height/2,5)+d/2,u=[g-5-n+l.width/2,-f-5+l.height/2,g+5+l.width/2,-f+d+5+l.height/2],o=[l.width-(l.width/2-l.height/2)-(-f+d+5+l.height/2)-5,l.height/2-l.width/2+(g-5-n+l.width/2)-5,l.width-(l.width/2-l.height/2)-(-f+d+5+l.height/2)+d,l.height/2-l.width/2+(g-5-n+l.width/2)+n+5],x=Ca(o,e,l.height,l.width)):(f=fa(-l.width/2,l.width/2,5)-n/2,g=fa(-l.height/2,l.height/2,5)+d/2,u=[f-5+l.width/2,g-5-d+l.height/2,f+n+5+l.width/2,g+5+l.height/2],x=Ca(u,e,l.width,l.height)),!x)break;if(y==1e3){u=[-1e3,-1e3,-1e3,-1e3];break}}s?(e[i].area=o,e[i].areav=u):e[i].area=u,e[i].rotate=s}break}return e}function ri(l,a,r,e){let t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,i=I({},{type:"normal",autoColors:!0},a.extra.word);a.chartData.wordCloudData||(a.chartData.wordCloudData=ii(a,i.type,e)),e.beginPath(),e.setFillStyle(a.background),e.rect(0,0,a.width,a.height),e.fill(),e.save();let h=a.chartData.wordCloudData;e.translate(a.width/2,a.height/2);for(let d=0;d<h.length;d++){e.save(),h[d].rotate&&e.rotate(90*Math.PI/180);let n=h[d].name,s=h[d].textSize*a.pix,f=H(n,s,e);e.beginPath(),e.setStrokeStyle(h[d].color),e.setFillStyle(h[d].color),e.setFontSize(s),h[d].rotate?h[d].areav[0]>0&&(a.tooltip&&a.tooltip.index==d?e.strokeText(n,(h[d].areav[0]+5-a.width/2)*t-f*(1-t)/2,(h[d].areav[1]+5+s-a.height/2)*t):e.fillText(n,(h[d].areav[0]+5-a.width/2)*t-f*(1-t)/2,(h[d].areav[1]+5+s-a.height/2)*t)):h[d].area[0]>0&&(a.tooltip&&a.tooltip.index==d?e.strokeText(n,(h[d].area[0]+5-a.width/2)*t-f*(1-t)/2,(h[d].area[1]+5+s-a.height/2)*t):e.fillText(n,(h[d].area[0]+5-a.width/2)*t-f*(1-t)/2,(h[d].area[1]+5+s-a.height/2)*t)),e.stroke(),e.restore()}e.restore()}function li(l,a,r,e){let t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,i=I({},{type:"funnel",activeWidth:10,activeOpacity:.3,border:!1,borderWidth:2,borderColor:"#FFFFFF",fillOpacity:1,minSize:0,labelAlign:"right",linearType:"none",customColor:[]},a.extra.funnel),h=(a.height-a.area[0]-a.area[2])/l.length,d={x:a.area[3]+(a.width-a.area[1]-a.area[3])/2,y:a.height-a.area[2]},n=i.activeWidth*a.pix,s=Math.min((a.width-a.area[1]-a.area[3])/2-n,(a.height-a.area[0]-a.area[2])/2-n),f=ce(l,s,i,h,t);if(e.save(),e.translate(d.x,d.y),i.customColor=ta(i.linearType,i.customColor,l,r),i.type=="pyramid")for(let o=0;o<f.length;o++){if(o==f.length-1){a.tooltip&&a.tooltip.index==o&&(e.beginPath(),e.setFillStyle(D(f[o].color,i.activeOpacity)),e.moveTo(-n,-h),e.lineTo(-f[o].radius-n,0),e.lineTo(f[o].radius+n,0),e.lineTo(n,-h),e.lineTo(-n,-h),e.closePath(),e.fill()),f[o].funnelArea=[d.x-f[o].radius,d.y-h*(o+1),d.x+f[o].radius,d.y-h*o],e.beginPath(),e.setLineWidth(i.borderWidth*a.pix),e.setStrokeStyle(i.borderColor);var g=D(f[o].color,i.fillOpacity);if(i.linearType=="custom"){var u=e.createLinearGradient(f[o].radius,-h,-f[o].radius,-h);u.addColorStop(0,D(f[o].color,i.fillOpacity)),u.addColorStop(.5,D(i.customColor[f[o].linearIndex],i.fillOpacity)),u.addColorStop(1,D(f[o].color,i.fillOpacity)),g=u}e.setFillStyle(g),e.moveTo(0,-h),e.lineTo(-f[o].radius,0),e.lineTo(f[o].radius,0),e.lineTo(0,-h),e.closePath(),e.fill(),i.border==!0&&e.stroke()}else{a.tooltip&&a.tooltip.index==o&&(e.beginPath(),e.setFillStyle(D(f[o].color,i.activeOpacity)),e.moveTo(0,0),e.lineTo(-f[o].radius-n,0),e.lineTo(-f[o+1].radius-n,-h),e.lineTo(f[o+1].radius+n,-h),e.lineTo(f[o].radius+n,0),e.lineTo(0,0),e.closePath(),e.fill()),f[o].funnelArea=[d.x-f[o].radius,d.y-h*(o+1),d.x+f[o].radius,d.y-h*o],e.beginPath(),e.setLineWidth(i.borderWidth*a.pix),e.setStrokeStyle(i.borderColor);var g=D(f[o].color,i.fillOpacity);if(i.linearType=="custom"){var u=e.createLinearGradient(f[o].radius,-h,-f[o].radius,-h);u.addColorStop(0,D(f[o].color,i.fillOpacity)),u.addColorStop(.5,D(i.customColor[f[o].linearIndex],i.fillOpacity)),u.addColorStop(1,D(f[o].color,i.fillOpacity)),g=u}e.setFillStyle(g),e.moveTo(0,0),e.lineTo(-f[o].radius,0),e.lineTo(-f[o+1].radius,-h),e.lineTo(f[o+1].radius,-h),e.lineTo(f[o].radius,0),e.lineTo(0,0),e.closePath(),e.fill(),i.border==!0&&e.stroke()}e.translate(0,-h)}else{e.translate(0,-(f.length-1)*h);for(let o=0;o<f.length;o++){if(o==f.length-1){a.tooltip&&a.tooltip.index==o&&(e.beginPath(),e.setFillStyle(D(f[o].color,i.activeOpacity)),e.moveTo(-n-i.minSize/2,0),e.lineTo(-f[o].radius-n,-h),e.lineTo(f[o].radius+n,-h),e.lineTo(n+i.minSize/2,0),e.lineTo(-n-i.minSize/2,0),e.closePath(),e.fill()),f[o].funnelArea=[d.x-f[o].radius,d.y-h,d.x+f[o].radius,d.y],e.beginPath(),e.setLineWidth(i.borderWidth*a.pix),e.setStrokeStyle(i.borderColor);var g=D(f[o].color,i.fillOpacity);if(i.linearType=="custom"){var u=e.createLinearGradient(f[o].radius,-h,-f[o].radius,-h);u.addColorStop(0,D(f[o].color,i.fillOpacity)),u.addColorStop(.5,D(i.customColor[f[o].linearIndex],i.fillOpacity)),u.addColorStop(1,D(f[o].color,i.fillOpacity)),g=u}e.setFillStyle(g),e.moveTo(0,0),e.lineTo(-i.minSize/2,0),e.lineTo(-f[o].radius,-h),e.lineTo(f[o].radius,-h),e.lineTo(i.minSize/2,0),e.lineTo(0,0),e.closePath(),e.fill(),i.border==!0&&e.stroke()}else{a.tooltip&&a.tooltip.index==o&&(e.beginPath(),e.setFillStyle(D(f[o].color,i.activeOpacity)),e.moveTo(0,0),e.lineTo(-f[o+1].radius-n,0),e.lineTo(-f[o].radius-n,-h),e.lineTo(f[o].radius+n,-h),e.lineTo(f[o+1].radius+n,0),e.lineTo(0,0),e.closePath(),e.fill()),f[o].funnelArea=[d.x-f[o].radius,d.y-h*(f.length-o),d.x+f[o].radius,d.y-h*(f.length-o-1)],e.beginPath(),e.setLineWidth(i.borderWidth*a.pix),e.setStrokeStyle(i.borderColor);var g=D(f[o].color,i.fillOpacity);if(i.linearType=="custom"){var u=e.createLinearGradient(f[o].radius,-h,-f[o].radius,-h);u.addColorStop(0,D(f[o].color,i.fillOpacity)),u.addColorStop(.5,D(i.customColor[f[o].linearIndex],i.fillOpacity)),u.addColorStop(1,D(f[o].color,i.fillOpacity)),g=u}e.setFillStyle(g),e.moveTo(0,0),e.lineTo(-f[o+1].radius,0),e.lineTo(-f[o].radius,-h),e.lineTo(f[o].radius,-h),e.lineTo(f[o+1].radius,0),e.lineTo(0,0),e.closePath(),e.fill(),i.border==!0&&e.stroke()}e.translate(0,h)}}return e.restore(),a.dataLabel!==!1&&t===1&&ti(f,a,e,h,i.labelAlign,n,d),t===1&&ni(f,a,e,h,i.labelAlign,n,d),{center:d,radius:s,series:f}}function ti(l,a,r,e,t,i,h){for(let d=0;d<l.length;d++){let n=l[d];if(n.labelShow===!1)continue;let s,f,g,u,o=n.formatter?n.formatter(n,d,l,a):la.toFixed(n._proportion_*100)+"%";o=n.labelText?n.labelText:o,t=="right"&&(d==l.length-1?s=(n.funnelArea[2]+h.x)/2:s=(n.funnelArea[2]+l[d+1].funnelArea[2])/2,f=s+i*2,g=n.funnelArea[1]+e/2,u=n.textSize*a.pix||a.fontSize*a.pix,r.setLineWidth(1*a.pix),r.setStrokeStyle(n.color),r.setFillStyle(n.color),r.beginPath(),r.moveTo(s,g),r.lineTo(f,g),r.stroke(),r.closePath(),r.beginPath(),r.moveTo(f,g),r.arc(f,g,2*a.pix,0,2*Math.PI),r.closePath(),r.fill(),r.beginPath(),r.setFontSize(u),r.setFillStyle(n.textColor||a.fontColor),r.fillText(o,f+5,g+u/2-2),r.closePath(),r.stroke(),r.closePath()),t=="left"&&(d==l.length-1?s=(n.funnelArea[0]+h.x)/2:s=(n.funnelArea[0]+l[d+1].funnelArea[0])/2,f=s-i*2,g=n.funnelArea[1]+e/2,u=n.textSize*a.pix||a.fontSize*a.pix,r.setLineWidth(1*a.pix),r.setStrokeStyle(n.color),r.setFillStyle(n.color),r.beginPath(),r.moveTo(s,g),r.lineTo(f,g),r.stroke(),r.closePath(),r.beginPath(),r.moveTo(f,g),r.arc(f,g,2,0,2*Math.PI),r.closePath(),r.fill(),r.beginPath(),r.setFontSize(u),r.setFillStyle(n.textColor||a.fontColor),r.fillText(o,f-5-H(o,u,r),g+u/2-2),r.closePath(),r.stroke(),r.closePath())}}function ni(l,a,r,e,t,i,h){for(let d=0;d<l.length;d++){let n=l[d],s,f;n.centerText&&(s=n.funnelArea[1]+e/2,f=n.centerTextSize*a.pix||a.fontSize*a.pix,r.beginPath(),r.setFontSize(f),r.setFillStyle(n.centerTextColor||"#FFFFFF"),r.fillText(n.centerText,h.x-H(n.centerText,f,r)/2,s+f/2-2),r.closePath(),r.stroke(),r.closePath())}}function j(l,a){a.save(),a.translate(0,.5),a.restore(),a.draw()}var hi={easeIn:function(a){return Math.pow(a,3)},easeOut:function(a){return Math.pow(a-1,3)+1},easeInOut:function(a){return(a/=.5)<1?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)},linear:function(a){return a}};function $(l){this.isStop=!1,l.duration=typeof l.duration>"u"?1e3:l.duration,l.timing=l.timing||"easeInOut";var a=17;function r(){return typeof setTimeout<"u"?function(h,d){setTimeout(function(){var n=+new Date;h(n)},d)}:typeof requestAnimationFrame<"u"?requestAnimationFrame:function(h){h(null)}}var e=r(),t=null,i=function(d){if(d===null||this.isStop===!0){l.onProcess&&l.onProcess(1),l.onAnimationFinish&&l.onAnimationFinish();return}if(t===null&&(t=d),d-t<l.duration){var n=(d-t)/l.duration,s=hi[l.timing];n=s(n),l.onProcess&&l.onProcess(n),e(i,a)}else l.onProcess&&l.onProcess(1),l.onAnimationFinish&&l.onAnimationFinish()};i=i.bind(this),e(i,a)}$.prototype.stop=function(){this.isStop=!0};function J(l,a,r,e){var t=this,i=a.series;(l==="pie"||l==="ring"||l==="mount"||l==="rose"||l==="funnel")&&(i=Ka(i,a));var h=a.categories;if(l==="mount"){h=[];for(let y=0;y<i.length;y++)i[y].show!==!1&&h.push(i[y].name);a.categories=h}i=Sa(i,a,r);var d=a.animation?a.duration:0;t.animationInstance&&t.animationInstance.stop();var n=null;if(l=="candle"){let y=I({},a.extra.candle.average);y.show?(n=Za(y.day,y.name,y.color,i[0].data),n=Sa(n,a,r),a.seriesMA=n):a.seriesMA?n=a.seriesMA=Sa(a.seriesMA,a,r):n=i}else n=i;a._series_=i=qa(i),a.area=new Array(4);for(let y=0;y<4;y++)a.area[y]=a.padding[y]*a.pix;var s=se(n,a,r,a.chartData,e),f=s.area.wholeHeight,g=s.area.wholeWidth;switch(a.legend.position){case"top":a.area[0]+=f;break;case"bottom":a.area[2]+=f;break;case"left":a.area[3]+=g;break;case"right":a.area[1]+=g;break}let u={},o=0;if(a.type==="line"||a.type==="column"||a.type==="mount"||a.type==="area"||a.type==="mix"||a.type==="candle"||a.type==="scatter"||a.type==="bubble"||a.type==="bar"){if(u=La(i,a,r,e),o=u.yAxisWidth,a.yAxis.showTitle){let c=0;for(let m=0;m<a.yAxis.data.length;m++)c=Math.max(c,a.yAxis.data[m].titleFontSize?a.yAxis.data[m].titleFontSize*a.pix:r.fontSize);a.area[0]+=c}let y=0,x=0;for(let c=0;c<o.length;c++)o[c].position=="left"?(x>0?a.area[3]+=o[c].width+a.yAxis.padding*a.pix:a.area[3]+=o[c].width,x+=1):o[c].position=="right"&&(y>0?a.area[1]+=o[c].width+a.yAxis.padding*a.pix:a.area[1]+=o[c].width,y+=1)}else r.yAxisWidth=o;if(a.chartData.yAxisData=u,a.categories&&a.categories.length&&a.type!=="radar"&&a.type!=="gauge"&&a.type!=="bar"){a.chartData.xAxisData=xa(a.categories,a);let y=za(a.categories,a,r,a.chartData.xAxisData.eachSpacing,e),x=y.xAxisHeight,c=y.angle;r.xAxisHeight=x,r._xAxisTextAngle_=c,a.area[2]+=x,a.chartData.categoriesData=y}else if(a.type==="line"||a.type==="area"||a.type==="scatter"||a.type==="bubble"||a.type==="bar"){a.chartData.xAxisData=ve(i,a,r,e),h=a.chartData.xAxisData.rangesFormat;let y=za(h,a,r,a.chartData.xAxisData.eachSpacing,e),x=y.xAxisHeight,c=y.angle;r.xAxisHeight=x,r._xAxisTextAngle_=c,a.area[2]+=x,a.chartData.categoriesData=y}else a.chartData.xAxisData={xAxisPoints:[]};if(a.enableScroll&&a.xAxis.scrollAlign=="right"&&a._scrollDistance_===void 0){let y=0,x=a.chartData.xAxisData.xAxisPoints,c=a.chartData.xAxisData.startX,m=a.chartData.xAxisData.endX,b=a.chartData.xAxisData.eachSpacing*(x.length-1);y=m-c-b,t.scrollOption.currentOffset=y,t.scrollOption.startTouchX=y,t.scrollOption.distance=0,t.scrollOption.lastMoveTime=0,a._scrollDistance_=y}switch((l==="pie"||l==="ring"||l==="rose")&&(r._pieTextMaxLength_=a.dataLabel===!1?0:Te(n,r,e,a)),l){case"word":this.animationInstance=new $({timing:a.timing,duration:d,onProcess:function(y){e.clearRect(0,0,a.width,a.height),a.rotate&&Y(e,a),ri(i,a,r,e,y),j(a,e)},onAnimationFinish:function(){t.uevent.trigger("renderComplete")}});break;case"map":e.clearRect(0,0,a.width,a.height),ei(i,a,r,e),setTimeout(()=>{this.uevent.trigger("renderComplete")},50);break;case"funnel":this.animationInstance=new $({timing:a.timing,duration:d,onProcess:function(y){e.clearRect(0,0,a.width,a.height),a.rotate&&Y(e,a),a.chartData.funnelData=li(i,a,r,e,y),Z(a.series,a,r,e,a.chartData),p(a,r,e,y),j(a,e)},onAnimationFinish:function(){t.uevent.trigger("renderComplete")}});break;case"line":this.animationInstance=new $({timing:a.timing,duration:d,onProcess:function(x){e.clearRect(0,0,a.width,a.height),a.rotate&&Y(e,a),ha(h,a,r,e),ea(h,a,r,e);var c=$e(i,a,r,e,x),m=c.xAxisPoints,v=c.calPoints,b=c.eachSpacing;a.chartData.xAxisPoints=m,a.chartData.calPoints=v,a.chartData.eachSpacing=b,ia(i,a,r,e),a.enableMarkLine!==!1&&x===1&&aa(a,r,e),Z(a.series,a,r,e,a.chartData),p(a,r,e,x),j(a,e)},onAnimationFinish:function(){t.uevent.trigger("renderComplete")}});break;case"scatter":this.animationInstance=new $({timing:a.timing,duration:d,onProcess:function(x){e.clearRect(0,0,a.width,a.height),a.rotate&&Y(e,a),ha(h,a,r,e),ea(h,a,r,e);var c=Ve(i,a,r,e,x),m=c.xAxisPoints,v=c.calPoints,b=c.eachSpacing;a.chartData.xAxisPoints=m,a.chartData.calPoints=v,a.chartData.eachSpacing=b,ia(i,a,r,e),a.enableMarkLine!==!1&&x===1&&aa(a,r,e),Z(a.series,a,r,e,a.chartData),p(a,r,e,x),j(a,e)},onAnimationFinish:function(){t.uevent.trigger("renderComplete")}});break;case"bubble":this.animationInstance=new $({timing:a.timing,duration:d,onProcess:function(x){e.clearRect(0,0,a.width,a.height),a.rotate&&Y(e,a),ha(h,a,r,e),ea(h,a,r,e);var c=qe(i,a,r,e,x),m=c.xAxisPoints,v=c.calPoints,b=c.eachSpacing;a.chartData.xAxisPoints=m,a.chartData.calPoints=v,a.chartData.eachSpacing=b,ia(i,a,r,e),a.enableMarkLine!==!1&&x===1&&aa(a,r,e),Z(a.series,a,r,e,a.chartData),p(a,r,e,x),j(a,e)},onAnimationFinish:function(){t.uevent.trigger("renderComplete")}});break;case"mix":this.animationInstance=new $({timing:a.timing,duration:d,onProcess:function(x){e.clearRect(0,0,a.width,a.height),a.rotate&&Y(e,a),ha(h,a,r,e),ea(h,a,r,e);var c=Ye(i,a,r,e,x),m=c.xAxisPoints,v=c.calPoints,b=c.eachSpacing;a.chartData.xAxisPoints=m,a.chartData.calPoints=v,a.chartData.eachSpacing=b,ia(i,a,r,e),a.enableMarkLine!==!1&&x===1&&aa(a,r,e),Z(a.series,a,r,e,a.chartData),p(a,r,e,x),j(a,e)},onAnimationFinish:function(){t.uevent.trigger("renderComplete")}});break;case"column":this.animationInstance=new $({timing:a.timing,duration:d,onProcess:function(x){e.clearRect(0,0,a.width,a.height),a.rotate&&Y(e,a),ha(h,a,r,e),ea(h,a,r,e);var c=Be(i,a,r,e,x),m=c.xAxisPoints,v=c.calPoints,b=c.eachSpacing;a.chartData.xAxisPoints=m,a.chartData.calPoints=v,a.chartData.eachSpacing=b,ia(i,a,r,e),a.enableMarkLine!==!1&&x===1&&aa(a,r,e),Z(a.series,a,r,e,a.chartData),p(a,r,e,x),j(a,e)},onAnimationFinish:function(){t.uevent.trigger("renderComplete")}});break;case"mount":this.animationInstance=new $({timing:a.timing,duration:d,onProcess:function(x){e.clearRect(0,0,a.width,a.height),a.rotate&&Y(e,a),ha(h,a,r,e),ea(h,a,r,e);var c=Ge(i,a,r,e,x),m=c.xAxisPoints,v=c.calPoints,b=c.eachSpacing;a.chartData.xAxisPoints=m,a.chartData.calPoints=v,a.chartData.eachSpacing=b,ia(i,a,r,e),a.enableMarkLine!==!1&&x===1&&aa(a,r,e),Z(a.series,a,r,e,a.chartData),p(a,r,e,x),j(a,e)},onAnimationFinish:function(){t.uevent.trigger("renderComplete")}});break;case"bar":this.animationInstance=new $({timing:a.timing,duration:d,onProcess:function(x){e.clearRect(0,0,a.width,a.height),a.rotate&&Y(e,a),ea(h,a,r,e);var c=He(i,a,r,e,x),m=c.yAxisPoints,v=c.calPoints,b=c.eachSpacing;a.chartData.yAxisPoints=m,a.chartData.xAxisPoints=a.chartData.xAxisData.xAxisPoints,a.chartData.calPoints=v,a.chartData.eachSpacing=b,ia(i,a,r,e),a.enableMarkLine!==!1&&x===1&&aa(a,r,e),Z(a.series,a,r,e,a.chartData),p(a,r,e,x),j(a,e)},onAnimationFinish:function(){t.uevent.trigger("renderComplete")}});break;case"area":this.animationInstance=new $({timing:a.timing,duration:d,onProcess:function(x){e.clearRect(0,0,a.width,a.height),a.rotate&&Y(e,a),ha(h,a,r,e),ea(h,a,r,e);var c=Xe(i,a,r,e,x),m=c.xAxisPoints,v=c.calPoints,b=c.eachSpacing;a.chartData.xAxisPoints=m,a.chartData.calPoints=v,a.chartData.eachSpacing=b,ia(i,a,r,e),a.enableMarkLine!==!1&&x===1&&aa(a,r,e),Z(a.series,a,r,e,a.chartData),p(a,r,e,x),j(a,e)},onAnimationFinish:function(){t.uevent.trigger("renderComplete")}});break;case"ring":this.animationInstance=new $({timing:a.timing,duration:d,onProcess:function(x){e.clearRect(0,0,a.width,a.height),a.rotate&&Y(e,a),a.chartData.pieData=Ha(i,a,r,e,x),Z(a.series,a,r,e,a.chartData),p(a,r,e,x),j(a,e)},onAnimationFinish:function(){t.uevent.trigger("renderComplete")}});break;case"pie":this.animationInstance=new $({timing:a.timing,duration:d,onProcess:function(x){e.clearRect(0,0,a.width,a.height),a.rotate&&Y(e,a),a.chartData.pieData=Ha(i,a,r,e,x),Z(a.series,a,r,e,a.chartData),p(a,r,e,x),j(a,e)},onAnimationFinish:function(){t.uevent.trigger("renderComplete")}});break;case"rose":this.animationInstance=new $({timing:a.timing,duration:d,onProcess:function(x){e.clearRect(0,0,a.width,a.height),a.rotate&&Y(e,a),a.chartData.pieData=je(i,a,r,e,x),Z(a.series,a,r,e,a.chartData),p(a,r,e,x),j(a,e)},onAnimationFinish:function(){t.uevent.trigger("renderComplete")}});break;case"radar":this.animationInstance=new $({timing:a.timing,duration:d,onProcess:function(x){e.clearRect(0,0,a.width,a.height),a.rotate&&Y(e,a),a.chartData.radarData=pe(i,a,r,e,x),Z(a.series,a,r,e,a.chartData),p(a,r,e,x),j(a,e)},onAnimationFinish:function(){t.uevent.trigger("renderComplete")}});break;case"arcbar":this.animationInstance=new $({timing:a.timing,duration:d,onProcess:function(x){e.clearRect(0,0,a.width,a.height),a.rotate&&Y(e,a),a.chartData.arcbarData=Je(i,a,r,e,x),j(a,e)},onAnimationFinish:function(){t.uevent.trigger("renderComplete")}});break;case"gauge":this.animationInstance=new $({timing:a.timing,duration:d,onProcess:function(x){e.clearRect(0,0,a.width,a.height),a.rotate&&Y(e,a),a.chartData.gaugeData=Ze(h,i,a,r,e,x),j(a,e)},onAnimationFinish:function(){t.uevent.trigger("renderComplete")}});break;case"candle":this.animationInstance=new $({timing:a.timing,duration:d,onProcess:function(x){e.clearRect(0,0,a.width,a.height),a.rotate&&Y(e,a),ha(h,a,r,e),ea(h,a,r,e);var c=Ne(i,n,a,r,e,x),m=c.xAxisPoints,v=c.calPoints,b=c.eachSpacing;a.chartData.xAxisPoints=m,a.chartData.calPoints=v,a.chartData.eachSpacing=b,ia(i,a,r,e),a.enableMarkLine!==!1&&x===1&&aa(a,r,e),Z(n||a.series,a,r,e,a.chartData),p(a,r,e,x),j(a,e)},onAnimationFinish:function(){t.uevent.trigger("renderComplete")}});break}}function Aa(){this.events={}}Aa.prototype.addEventListener=function(l,a){this.events[l]=this.events[l]||[],this.events[l].push(a)};Aa.prototype.delEventListener=function(l){this.events[l]=[]};Aa.prototype.trigger=function(){for(var l=arguments.length,a=Array(l),r=0;r<l;r++)a[r]=arguments[r];var e=a[0],t=a.slice(1);this.events[e]&&this.events[e].forEach(function(i){try{i.apply(null,t)}catch{}})};var K=function(a){a.pix=a.pixelRatio?a.pixelRatio:1,a.fontSize=a.fontSize?a.fontSize:13,a.fontColor=a.fontColor?a.fontColor:sa.fontColor,(a.background==""||a.background=="none")&&(a.background="#FFFFFF"),a.title=I({},a.title),a.subtitle=I({},a.subtitle),a.duration=a.duration?a.duration:1e3,a.yAxis=I({},{data:[],showTitle:!1,disabled:!1,disableGrid:!1,gridSet:"number",splitNumber:5,gridType:"solid",dashLength:4*a.pix,gridColor:"#cccccc",padding:10,fontColor:"#666666"},a.yAxis),a.xAxis=I({},{rotateLabel:!1,rotateAngle:45,disabled:!1,disableGrid:!1,splitNumber:5,calibration:!1,fontColor:"#666666",fontSize:13,lineHeight:20,marginTop:0,gridType:"solid",dashLength:4,scrollAlign:"left",boundaryGap:"center",axisLine:!0,axisLineColor:"#cccccc",titleFontSize:13,titleOffsetY:0,titleOffsetX:0,titleFontColor:"#666666"},a.xAxis),a.xAxis.scrollPosition=a.xAxis.scrollAlign,a.legend=I({},{show:!0,position:"bottom",float:"center",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",borderWidth:0,padding:5,margin:5,itemGap:10,fontSize:a.fontSize,lineHeight:a.fontSize,fontColor:a.fontColor,formatter:{},hiddenColor:"#CECECE"},a.legend),a.extra=I({tooltip:{legendShape:"auto"}},a.extra),a.rotate=!!a.rotate,a.animation=!!a.animation,a.rotate=!!a.rotate,a.canvas2d=!!a.canvas2d;let r=I({},sa);if(r.color=a.color?a.color:r.color,a.type=="pie"&&(r.pieChartLinePadding=a.dataLabel===!1?0:a.extra.pie.labelWidth*a.pix||r.pieChartLinePadding*a.pix),a.type=="ring"&&(r.pieChartLinePadding=a.dataLabel===!1?0:a.extra.ring.labelWidth*a.pix||r.pieChartLinePadding*a.pix),a.type=="rose"&&(r.pieChartLinePadding=a.dataLabel===!1?0:a.extra.rose.labelWidth*a.pix||r.pieChartLinePadding*a.pix),r.pieChartTextPadding=a.dataLabel===!1?0:r.pieChartTextPadding*a.pix,r.rotate=a.rotate,a.rotate){let e=a.width,t=a.height;a.width=t,a.height=e}if(a.padding=a.padding?a.padding:r.padding,r.yAxisWidth=sa.yAxisWidth*a.pix,r.fontSize=a.fontSize*a.pix,r.titleFontSize=sa.titleFontSize*a.pix,r.subtitleFontSize=sa.subtitleFontSize*a.pix,!a.context)throw new Error("[uCharts] 未获取到context！注意：v2.0版本后，需要自行获取canvas的绘图上下文并传入opts.context！");this.context=a.context,this.context.setTextAlign||(this.context.setStrokeStyle=function(e){return this.strokeStyle=e},this.context.setLineWidth=function(e){return this.lineWidth=e},this.context.setLineCap=function(e){return this.lineCap=e},this.context.setFontSize=function(e){return this.font=e+"px sans-serif"},this.context.setFillStyle=function(e){return this.fillStyle=e},this.context.setTextAlign=function(e){return this.textAlign=e},this.context.setTextBaseline=function(e){return this.textBaseline=e},this.context.setShadow=function(e,t,i,h){this.shadowColor=h,this.shadowOffsetX=e,this.shadowOffsetY=t,this.shadowBlur=i},this.context.draw=function(){}),this.context.setLineDash||(this.context.setLineDash=function(e){}),a.chartData={},this.uevent=new Aa,this.scrollOption={currentOffset:0,startTouchX:0,distance:0,lastMoveTime:0},this.opts=a,this.config=r,J.call(this,a.type,a,r,this.context)};K.prototype.updateData=function(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(this.opts=I({},this.opts,l),this.opts.updateData=!0,l.scrollPosition||"current"){case"current":this.opts._scrollDistance_=this.scrollOption.currentOffset;break;case"left":this.opts._scrollDistance_=0,this.scrollOption={currentOffset:0,startTouchX:0,distance:0,lastMoveTime:0};break;case"right":let r=La(this.opts.series,this.opts,this.config,this.context),e=r.yAxisWidth;this.config.yAxisWidth=e;let t=0,i=xa(this.opts.categories,this.opts,this.config),h=i.xAxisPoints,d=i.startX,n=i.endX,f=i.eachSpacing*(h.length-1);t=n-d-f,this.scrollOption={currentOffset:t,startTouchX:t,distance:0,lastMoveTime:0},this.opts._scrollDistance_=t;break}J.call(this,this.opts.type,this.opts,this.config,this.context)};K.prototype.zoom=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.opts.xAxis.itemCount;if(this.opts.enableScroll!==!0){console.log("[uCharts] 请启用滚动条后使用");return}let a=Math.round(Math.abs(this.scrollOption.currentOffset)/this.opts.chartData.eachSpacing)+Math.round(this.opts.xAxis.itemCount/2);this.opts.animation=!1,this.opts.xAxis.itemCount=l.itemCount;let r=La(this.opts.series,this.opts,this.config,this.context),e=r.yAxisWidth;this.config.yAxisWidth=e;let t=0,i=xa(this.opts.categories,this.opts,this.config),h=i.xAxisPoints,d=i.startX,n=i.endX,s=i.eachSpacing,f=s*a,g=n-d,u=g-s*(h.length-1);t=g/2-f,t>0&&(t=0),t<u&&(t=u),this.scrollOption={currentOffset:t,startTouchX:0,distance:0,lastMoveTime:0},Da(this,t,this.opts.chartData,this.config,this.opts),this.opts._scrollDistance_=t,J.call(this,this.opts.type,this.opts,this.config,this.context)};K.prototype.dobuleZoom=function(l){if(this.opts.enableScroll!==!0){console.log("[uCharts] 请启用滚动条后使用");return}const a=l.changedTouches;if(a.length<2)return;for(var r=0;r<a.length;r++)a[r].x=a[r].x?a[r].x:a[r].clientX,a[r].y=a[r].y?a[r].y:a[r].clientY;const e=[da(a[0],this.opts,l),da(a[1],this.opts,l)],t=Math.abs(e[0].x-e[1].x);if(!this.scrollOption.moveCount){let c={changedTouches:[{x:a[0].x,y:this.opts.area[0]/this.opts.pix+2}]},m={changedTouches:[{x:a[1].x,y:this.opts.area[0]/this.opts.pix+2}]};this.opts.rotate&&(c={changedTouches:[{x:this.opts.height/this.opts.pix-this.opts.area[0]/this.opts.pix-2,y:a[0].y}]},m={changedTouches:[{x:this.opts.height/this.opts.pix-this.opts.area[0]/this.opts.pix-2,y:a[1].y}]});const v=this.getCurrentDataIndex(c).index,b=this.getCurrentDataIndex(m).index,P=Math.abs(v-b);this.scrollOption.moveCount=P,this.scrollOption.moveCurrent1=Math.min(v,b),this.scrollOption.moveCurrent2=Math.max(v,b);return}let i=t/this.scrollOption.moveCount,h=(this.opts.width-this.opts.area[1]-this.opts.area[3])/i;h=h<=2?2:h,h=h>=this.opts.categories.length?this.opts.categories.length:h,this.opts.animation=!1,this.opts.xAxis.itemCount=h;let d=0,n=xa(this.opts.categories,this.opts,this.config),s=n.xAxisPoints,f=n.startX,g=n.endX,u=n.eachSpacing,o=u*this.scrollOption.moveCurrent1,x=g-f-u*(s.length-1);d=-o+Math.min(e[0].x,e[1].x)-this.opts.area[3]-u,d>0&&(d=0),d<x&&(d=x),this.scrollOption.currentOffset=d,this.scrollOption.startTouchX=0,this.scrollOption.distance=0,Da(this,d,this.opts.chartData,this.config,this.opts),this.opts._scrollDistance_=d,J.call(this,this.opts.type,this.opts,this.config,this.context)};K.prototype.stopAnimation=function(){this.animationInstance&&this.animationInstance.stop()};K.prototype.addEventListener=function(l,a){this.uevent.addEventListener(l,a)};K.prototype.delEventListener=function(l){this.uevent.delEventListener(l)};K.prototype.getCurrentDataIndex=function(l){var a=null;if(l.changedTouches?a=l.changedTouches[0]:a=l.mp.changedTouches[0],a){let r=da(a,this.opts,l);return this.opts.type==="pie"||this.opts.type==="ring"?ge({x:r.x,y:r.y},this.opts.chartData.pieData,this.opts):this.opts.type==="rose"?oe({x:r.x,y:r.y},this.opts.chartData.pieData,this.opts):this.opts.type==="radar"?he({x:r.x,y:r.y},this.opts.chartData.radarData,this.opts.categories.length):this.opts.type==="funnel"?de({x:r.x,y:r.y},this.opts.chartData.funnelData):this.opts.type==="map"?ue({x:r.x,y:r.y},this.opts):this.opts.type==="word"?fe({x:r.x,y:r.y},this.opts.chartData.wordCloudData):this.opts.type==="bar"?le({x:r.x,y:r.y},this.opts.chartData.calPoints,this.opts,this.config,Math.abs(this.scrollOption.currentOffset)):re({x:r.x,y:r.y},this.opts.chartData.calPoints,this.opts,this.config,Math.abs(this.scrollOption.currentOffset))}return-1};K.prototype.getLegendDataIndex=function(l){var a=null;if(l.changedTouches?a=l.changedTouches[0]:a=l.mp.changedTouches[0],a){let r=da(a,this.opts,l);return te({x:r.x,y:r.y},this.opts.chartData.legendData)}return-1};K.prototype.touchLegend=function(l){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=null;if(l.changedTouches?r=l.changedTouches[0]:r=l.mp.changedTouches[0],r){da(r,this.opts,l);var e=this.getLegendDataIndex(l);e>=0&&(this.opts.type=="candle"?this.opts.seriesMA[e].show=!this.opts.seriesMA[e].show:this.opts.series[e].show=!this.opts.series[e].show,this.opts.animation=!!a.animation,this.opts._scrollDistance_=this.scrollOption.currentOffset,J.call(this,this.opts.type,this.opts,this.config,this.context))}};K.prototype.showToolTip=function(l){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=null;l.changedTouches?r=l.changedTouches[0]:r=l.mp.changedTouches[0],r||console.log("[uCharts] 未获取到event坐标信息");var e=da(r,this.opts,l),t=this.scrollOption.currentOffset,i=I({},this.opts,{_scrollDistance_:t,animation:!1});if(this.opts.type==="line"||this.opts.type==="area"||this.opts.type==="column"||this.opts.type==="scatter"||this.opts.type==="bubble"){var h=this.getCurrentDataIndex(l),d=a.index==null?h.index:a.index;if(d>-1||d.length>0){var n=ya(this.opts.series,d,h.group);if(n.length!==0){var s=Ia(n,this.opts,d,h.group,this.opts.categories,a),f=s.textList,g=s.offset;g.y=e.y,i.tooltip={textList:a.textList!==void 0?a.textList:f,offset:a.offset!==void 0?a.offset:g,option:a,index:d,group:h.group}}}J.call(this,i.type,i,this.config,this.context)}if(this.opts.type==="mount"){var d=a.index==null?this.getCurrentDataIndex(l).index:a.index;if(d>-1){var i=I({},this.opts,{animation:!1}),n=I({},i._series_[d]),f=[{text:a.formatter?a.formatter(n,void 0,d,i):n.name+": "+n.data,color:n.color,legendShape:this.opts.extra.tooltip.legendShape=="auto"?n.legendShape:this.opts.extra.tooltip.legendShape}],g={x:i.chartData.calPoints[d].x,y:e.y};i.tooltip={textList:a.textList?a.textList:f,offset:a.offset!==void 0?a.offset:g,option:a,index:d}}J.call(this,i.type,i,this.config,this.context)}if(this.opts.type==="bar"){var h=this.getCurrentDataIndex(l),d=a.index==null?h.index:a.index;if(d>-1||d.length>0){var n=ya(this.opts.series,d,h.group);if(n.length!==0){var s=Ia(n,this.opts,d,h.group,this.opts.categories,a),f=s.textList,g=s.offset;g.x=e.x,i.tooltip={textList:a.textList!==void 0?a.textList:f,offset:a.offset!==void 0?a.offset:g,option:a,index:d}}}J.call(this,i.type,i,this.config,this.context)}if(this.opts.type==="mix"){var h=this.getCurrentDataIndex(l),d=a.index==null?h.index:a.index;if(d>-1){var t=this.scrollOption.currentOffset,i=I({},this.opts,{_scrollDistance_:t,animation:!1}),n=ya(this.opts.series,d);if(n.length!==0){var u=ee(n,this.opts,d,this.opts.categories,a),f=u.textList,g=u.offset;g.y=e.y,i.tooltip={textList:a.textList?a.textList:f,offset:a.offset!==void 0?a.offset:g,option:a,index:d}}}J.call(this,i.type,i,this.config,this.context)}if(this.opts.type==="candle"){var h=this.getCurrentDataIndex(l),d=a.index==null?h.index:a.index;if(d>-1){var t=this.scrollOption.currentOffset,i=I({},this.opts,{_scrollDistance_:t,animation:!1}),n=ya(this.opts.series,d);if(n.length!==0){var s=ie(this.opts.series[0].data,n,this.opts,d,this.opts.categories,this.opts.extra.candle),f=s.textList,g=s.offset;g.y=e.y,i.tooltip={textList:a.textList?a.textList:f,offset:a.offset!==void 0?a.offset:g,option:a,index:d}}}J.call(this,i.type,i,this.config,this.context)}if(this.opts.type==="pie"||this.opts.type==="ring"||this.opts.type==="rose"||this.opts.type==="funnel"){var d=a.index==null?this.getCurrentDataIndex(l):a.index;if(d>-1){var i=I({},this.opts,{animation:!1}),n=I({},i._series_[d]),f=[{text:a.formatter?a.formatter(n,void 0,d,i):n.name+": "+n.data,color:n.color,legendShape:this.opts.extra.tooltip.legendShape=="auto"?n.legendShape:this.opts.extra.tooltip.legendShape}],g={x:e.x,y:e.y};i.tooltip={textList:a.textList?a.textList:f,offset:a.offset!==void 0?a.offset:g,option:a,index:d}}J.call(this,i.type,i,this.config,this.context)}if(this.opts.type==="map"){var d=a.index==null?this.getCurrentDataIndex(l):a.index;if(d>-1){var i=I({},this.opts,{animation:!1}),n=I({},this.opts.series[d]);n.name=n.properties.name;var f=[{text:a.formatter?a.formatter(n,void 0,d,this.opts):n.name,color:n.color,legendShape:this.opts.extra.tooltip.legendShape=="auto"?n.legendShape:this.opts.extra.tooltip.legendShape}],g={x:e.x,y:e.y};i.tooltip={textList:a.textList?a.textList:f,offset:a.offset!==void 0?a.offset:g,option:a,index:d}}i.updateData=!1,J.call(this,i.type,i,this.config,this.context)}if(this.opts.type==="word"){var d=a.index==null?this.getCurrentDataIndex(l):a.index;if(d>-1){var i=I({},this.opts,{animation:!1}),n=I({},this.opts.series[d]),f=[{text:a.formatter?a.formatter(n,void 0,d,this.opts):n.name,color:n.color,legendShape:this.opts.extra.tooltip.legendShape=="auto"?n.legendShape:this.opts.extra.tooltip.legendShape}],g={x:e.x,y:e.y};i.tooltip={textList:a.textList?a.textList:f,offset:a.offset!==void 0?a.offset:g,option:a,index:d}}i.updateData=!1,J.call(this,i.type,i,this.config,this.context)}if(this.opts.type==="radar"){var d=a.index==null?this.getCurrentDataIndex(l):a.index;if(d>-1){var i=I({},this.opts,{animation:!1}),n=ya(this.opts.series,d);if(n.length!==0){var f=n.map(v=>({text:a.formatter?a.formatter(v,this.opts.categories[d],d,this.opts):v.name+": "+v.data,color:v.color,legendShape:this.opts.extra.tooltip.legendShape=="auto"?v.legendShape:this.opts.extra.tooltip.legendShape})),g={x:e.x,y:e.y};i.tooltip={textList:a.textList?a.textList:f,offset:a.offset!==void 0?a.offset:g,option:a,index:d}}}J.call(this,i.type,i,this.config,this.context)}};K.prototype.translate=function(l){this.scrollOption={currentOffset:l,startTouchX:l,distance:0,lastMoveTime:0};let a=I({},this.opts,{_scrollDistance_:l,animation:!1});J.call(this,this.opts.type,a,this.config,this.context)};K.prototype.scrollStart=function(l){var a=null;l.changedTouches?a=l.changedTouches[0]:a=l.mp.changedTouches[0];var r=da(a,this.opts,l);a&&this.opts.enableScroll===!0&&(this.scrollOption.startTouchX=r.x)};K.prototype.scroll=function(l){this.scrollOption.lastMoveTime===0&&(this.scrollOption.lastMoveTime=Date.now());let a=this.opts.touchMoveLimit||60,r=Date.now();if(!(r-this.scrollOption.lastMoveTime<Math.floor(1e3/a))&&this.scrollOption.startTouchX!=0){this.scrollOption.lastMoveTime=r;var t=null;if(l.changedTouches?t=l.changedTouches[0]:t=l.mp.changedTouches[0],t&&this.opts.enableScroll===!0){var i=da(t,this.opts,l),h;h=i.x-this.scrollOption.startTouchX;var d=this.scrollOption.currentOffset,n=Da(this,d+h,this.opts.chartData,this.config,this.opts);this.scrollOption.distance=h=n-d;var s=I({},this.opts,{_scrollDistance_:d+h,animation:!1});return this.opts=s,J.call(this,s.type,s,this.config,this.context),d+h}}};K.prototype.scrollEnd=function(l){if(this.opts.enableScroll===!0){var a=this.scrollOption,r=a.currentOffset,e=a.distance;this.scrollOption.currentOffset=r+e,this.scrollOption.distance=0,this.scrollOption.moveCount=0}};exports.uCharts=K;
