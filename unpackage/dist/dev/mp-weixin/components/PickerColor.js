"use strict";const r=require("../common/vendor.js"),b=require("../stores/img.js");Array||r.resolveComponent("transition")();const _={__name:"PickerColor",props:["squaresize"],setup(s){const c=s,o=b.useImgStore(),i=r.computed(()=>(console.log("squareSize",c.squaresize),`${c.squaresize}px`)),f=[{color:"red",border:"3px solid black",backgroundColor:"white"},{color:"black",border:"3px solid black",backgroundColor:"white"},{color:"white",border:"3px solid black",backgroundColor:"grey"},{color:"blue",border:"3px solid black",backgroundColor:"white"}],d=e=>{o.cursorInfo.color=e},t=r.ref(!1),l=r.ref(),g=e=>{l.value=[`--jumpheight_1: ${e-5}px`,`--jumpheight_2: ${e}px`,`--jumpheight_3: ${e-40}px`]},h=e=>{if(console.log(o.screenHeight,e.target.offsetTop),g(o.screenHeight-e.target.offsetTop-220),o.dbColors.length>0&&(console.log(o.dbColors.length),o.dbColors[o.dbColors.length-1].hexColor===o.pickerColor.hexColor))return;const u={...o.pickerColor};o.dbColors.push(u),t.value=!0,setTimeout(()=>{t.value=!1},1e3)},p=r.computed(()=>Math.round(o.cursorInfo.x/o.imgInfo.data.width*o.imgInfo.width)),m=r.computed(()=>Math.round(o.cursorInfo.y/o.imgInfo.data.height*o.imgInfo.height)),I=e=>{o.cursorInfo.x=e.detail.value/o.imgInfo.width*o.imgInfo.data.width,o.imgInfo.re_plot=!o.imgInfo.re_plot,o.cursorInfo.x<0?o.cursorInfo.x=0:o.cursorInfo.x>=o.imgInfo.data.width&&(o.cursorInfo.x=o.imgInfo.data.width-1),console.log("x:",o.cursorInfo.x,o.imgInfo.data.width),o.drawCursor(),o.getImageRGB()},C=e=>{o.cursorInfo.y=e.detail.value/o.imgInfo.height*o.imgInfo.data.height,o.imgInfo.re_plot=!o.imgInfo.re_plot,o.cursorInfo.y<0?o.cursorInfo.y=0:o.cursorInfo.y>=o.imgInfo.data.height&&(o.cursorInfo.y=o.imgInfo.data.height-1),o.drawCursor(),o.getImageRGB()},x=e=>{o.cursorInfo.cover=e.detail.value,o.drawCursor()};return(e,u)=>r.e({a:r.unref(i),b:r.unref(i),c:r.unref(o).pickerColor.hexColor,d:r.t(r.unref(o).pickerColor.rgb),e:r.o(h),f:t.value},t.value?{}:{},{g:r.p({name:"fade"}),h:r.s(l.value),i:"6rpx solid "+r.unref(o).pickerColor.hexColor,j:r.unref(p),k:r.o(I),l:r.unref(o).imgInfo.width,m:r.unref(m),n:r.o(C),o:r.unref(o).imgInfo.height,p:r.f(f,(n,a,w)=>({a,b:r.o(v=>d(n.color),a),c:n.color,d:r.unref(o).cursorInfo.color===n.color?"3px solid black":"1px solid black",e:n.color})),q:r.unref(o).cursorInfo.cover,r:r.o(x),s:r.t(r.unref(o).cursorInfo.cover?"Cluster":"Alone")})}},k=r._export_sfc(_,[["__file","/Users/xingzheng/Desktop/pickercolor/components/PickerColor.vue"]]);wx.createComponent(k);
