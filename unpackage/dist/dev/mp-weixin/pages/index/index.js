"use strict";const e=require("../../common/vendor.js"),a=require("../../stores/img.js"),t=require("../../api/drawimg.js");Math||(s+c)();const c=()=>"../../components/AddImg.js",s=()=>"../../components/PickerColor.js",i={__name:"index",setup(f){const n=a.useImgStore();return e.onReady(()=>{console.log("onready"),n.canvasInfo.width=n.canvasInfo.tagwidth,n.canvasInfo.height=n.canvasInfo.tagheight}),n.imgInfo.is_kuan=e.computed(()=>n.imgInfo.ratio>n.canvasInfo.tagwidth/n.canvasInfo.tagheight),e.watch(()=>n.imgInfo.url,r=>{console.log("newurl:",r),setTimeout(()=>{t.drawImg()},10)}),e.watch([()=>n.imgInfo.re_plot],r=>{n.cursorInfo.cover||n.ctxCursor.clearRect(0,0,n.canvasInfo.width*n.drp,n.canvasInfo.height*n.drp),n.drawCursor()}),(r,h)=>e.e({a:e.unref(n).imgInfo.url,b:e.o((...o)=>e.unref(n).handleTouchStart&&e.unref(n).handleTouchStart(...o)),c:e.o((...o)=>e.unref(n).handleTouchMove&&e.unref(n).handleTouchMove(...o)),d:e.o((...o)=>e.unref(n).handleTouchEnd&&e.unref(n).handleTouchEnd(...o)),e:e.unref(n).canvasInfo.width+"rpx",f:e.unref(n).canvasInfo.height+"rpx",g:e.unref(n).imgInfo.url,h:e.unref(n).canvasInfo.width+"rpx",i:e.unref(n).canvasInfo.height+"rpx",j:e.unref(n).imgInfo.url},e.unref(n).imgInfo.url?{k:e.p({squaresize:"40"})}:{})}},u=e._export_sfc(i,[["__file","/Users/xingzheng/Desktop/pickercolor/pages/index/index.vue"]]);wx.createPage(u);
