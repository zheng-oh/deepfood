"use strict";const r=require("../../../../common/vendor.js"),s={computed:{value(){const{text:e,mode:u,format:t,href:n}=this;return u==="price"?(/^\d+(\.\d+)?$/.test(e)||r.index.$u.error("金额模式下，text参数需要为金额格式"),r.index.$u.test.func(t)?t(e):r.index.$u.priceFormat(e,2)):u==="date"?(!r.index.$u.test.date(e)&&r.index.$u.error("日期模式下，text参数需要为日期或时间戳格式"),r.index.$u.test.func(t)?t(e):t?r.index.$u.timeFormat(e,t):r.index.$u.timeFormat(e,"yyyy-mm-dd")):u==="phone"?r.index.$u.test.func(t)?t(e):t==="encrypt"?`${e.substr(0,3)}****${e.substr(7)}`:e:u==="name"?(typeof e!="string"&&r.index.$u.error("姓名模式下，text参数需要为字符串格式"),r.index.$u.test.func(t)?t(e):t==="encrypt"?this.formatName(e):e):(u==="link"&&!r.index.$u.test.url(n)&&r.index.$u.error("超链接模式下，href参数需要为URL格式"),e)}},methods:{formatName(e){let u="";if(e.length===2)u=e.substr(0,1)+"*";else if(e.length>2){let t="";for(let n=0,i=e.length-2;n<i;n++)t+="*";u=e.substr(0,1)+t+e.substr(-1,1)}else u=e;return u}}};exports.value=s;
